custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EEasy%20Reader%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%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%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5Bconst%20_this%20%3D%20this%2C%0A%20%20%20%20%20%20fp%20%3D%20Cc%5B%27@mozilla.org/filepicker%3B1%27%5D.createInstance%28Ci.nsIFilePicker%29%2C%0A%20%20%20%20%20%20ios%20%3D%20Cc%5B%27@mozilla.org/network/io-service%3B1%27%5D.getService%28Ci.nsIIOService%29%2C%0A%20%20%20%20%20%20str%20%3D%20Cc%5B%27@mozilla.org/supports-string%3B1%27%5D.createInstance%28Ci.nsISupportsString%29%2C%0A%20%20%20%20%20%20sss%20%3D%20Cc%5B%27@mozilla.org/content/style-sheet-service%3B1%27%5D.getService%28Ci.nsIStyleSheetService%29%2C%0A%20%20%20%20%20%20etl%20%3D%20Cc%5B%27@mozilla.org/network/effective-tld-service%3B1%27%5D.getService%28Ci.nsIEffectiveTLDService%29%2C%0A%20%20%20%20%20%20wm%20%3D%20Cc%5B%22@mozilla.org/appshell/window-mediator%3B1%22%5D.getService%28Ci.nsIWindowMediator%29.getMostRecentWindow%2C%0A%20%20%20%20%20%20cssDialog%20%3D%20%27%23easyReader%20.button%20.button-icon%20%7Bmargin%3A%200%206px%200%200%20%21important%3B%7D%27.replace%28%27%23%27%2C%20%27%2523%27%29%2C%0A%20%20%20%20%20%20cssClose%20%3D%20%27%23easyReader%20%23closeBtn%20image%20%7Bdisplay%3A%20none%20%21important%3B%7D%27.replace%28%27%23%27%2C%20%27%2523%27%29%2C%0A%20%20%20%20%20%20cssEditor%20%3D%20%27%23easyReader%20%23closeBtn%20image%2C%20%23textEditor%20image%20%7Bdisplay%3A%20none%20%21important%3B%7D%27.replace%28%27%23%27%2C%20%27%2523%27%29%3B%0A%0Apref.root%20%3D%20%27custombuttons.EasyReader%27%20+%20this.id.match%28/%5Cd+/%29%20+%20%27.%27%3B%0Apref.defaults%20%3D%20%7B%0A%20%20baseDomain%3A%20false%2C%0A%20%20baseDomainText%3A%20%22Base%20domain%22%2C%0A%20%20baseDomain1Text%3A%20%22Base%20domain%20option.%20If%20applying%20style%20on%20%27foo.example.com%27%22%2C%0A%20%20baseDomain2Text%3A%20%22it%20will%20also%20affect%20%27example.com%27%20and%20its%20sub-domains.%22%2C%0A%20%20closeBtnText%3A%20%22Close%22%2C%0A%20%20cssOff%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGF0lEQVR42s2XV2hVWRSGV4wl9hZjL6D4IHb%5C%0AErthAxa5EYtQkGBAssbyIgthARX0RUURBR0SCJkQfEjWoSYzGFlDQEMEae++9Z+73D/t465hxYJgNh7vv3uus/19lr71OlPnG0KFDM1q2bBlv/9G4e/d%5C%0AuZl5e3mTmUYDXqFEjvl+/fhYdHR0i/OPHj38N+P37d/v69at+K1WqZOfPn7cPHz6IBATK+/TpY+3atbM2bdpI0H+Ul5frNyoqypu74Qizx+Pkq1atatW%5C%0ArVwfEKleuLLmPHz9q7dq1a1ZWVmYFBQXmIxDlEWjfvr21aNFCLP3BYYwCiFWrVk3r3759E8inT59CyNaqVcvq1KmjObqQe/36tdWuXVvyzM+cORNKoEO%5C%0AHDtakSROPAApgHBcXJwIvXryw+vXr25s3b7SO3OPHjz1ZnipVqkj+yZMnWod8gwYN7NWrV+YLs95hXlxcHEigb9++1qVLFwEQc6esefPm9uzZM61hPVY%5C%0AA2qxZM3v48KHnARceQBo2bCh3Aw5YvXr1vP/OkBACJGCPHj2sZs2aAuNp1KiRFGIxg1/fSbHnz5/LAyh0HmAOAYiwxy+gGMHely9fZACE0X3u3LlQAr1%5C%0A791a8nDtR1LhxY8X75cuXsgxF79+/lydYc+FCButQzhxQwJk7gm4Ouf8fgf79+xuJyJFxBFDIg5tLS0vt3bt3ypNWrVpJCUROnDhhN27cEHD37t2lg3c%5C%0Ai7UEYYqdOnfpJYMiQIeUDBw6UB2DKIF5k8sGDB23Xrl0BRy0rK0se2LBhgx09etRbx4iVK1cKJNze0qVL5VXyLDc3N5DAiBEjbOTIkUoSwLF4ypQpAQq%5C%0AKioo037hxo4rJli1b9J93OWodO3a0Xr162f79+yPuUR/AKCwsDCQwYcIEGzBggEJw8+ZNGzt2rBRAaurUqSocKPXJ2syZM23z5s0eoZycHHkEyzly8+b%5C%0ANC7tHKNjn98iRI4EEAKQWPH361NatW6f4jR492pYtW6bEu3z5sl28eFFWYNH69eslw9i9e7e1bt1acoAtWrQo7J4r3eRAiAdmzJghAoBv27ZNwsSQyvj%5C%0Ao0SOFBe98/vxZ1qSnp9vOnTslN3jwYEtMTLS2bduKwNatW8Pu8Z5L7oBSDIGkpCQVnlGjRulFrJg4caKymcTEldwFeAUinIiMjAzbs2eP5MeNG2dpaWm%5C%0AyjlofvDd//nwR2LFjh9bIiQACqampKptz5syRwL59+1SGAcWdy5cv13pmZqbqAQOwTZs2aW3MmDG2YMECkXNHzX9v4cKFtn379oDTRLg9AgBfuHDBVq9%5C%0Aerc2UlBS5/+rVq8pqRkJCgghyX1AbOOMAECoSD0spZMQ7eG/WrFk6osFj7969fxFYtWqVsp9QhBu4EAIxMTGWnZ0trxw7dszbx4PTpk2zkydPKr6HDx/%5C%0AW+qBBg5QTboQjIQIrVqxQgpw+fdpKSkp0Y2ENDUrnzp2tU6dOsowLhkT1uc7Gjx+vWLpk43hRIyhew4cPV4Mzd+7cEMBgEiKwdu1axY4sZxB7ki82Ntb%5C%0ArZkhIPEAhoa7XrVtXa8hCNriTotoRRhI3EgkvBGvWrBFIJGWR2jJ3DUPSv5Ny4HRY3APh+kq84yXhkiVLPOXByv6uLXOK/d8JBidhuVX9SXCfBNyGixc%5C%0Av9jb9lf2qLbt//77nCQAAp1uiceHmBJx3L126ZLdv31Y4OH4kcUQCTllF2rJ79+7pdnv79q0dOnTImjZtKuu7du0qsg78wYMHdufOHZs+fbr0c5I8AsO%5C%0AGDRMBLHTKKtqW4SmS8sCBA7qkUMwNGA48Pj7ea2QC7gIIcAxdhvNUtCsiJ5jjiW7duolAz549Q8ApbP6dVH5+vsLghYDzCwjgCFaUADnAxwfXLCFhQIK%5C%0AuyYFT3NxHixvcFWfPnv1JYPbs2fqgIAwI4w1i5R735eP23bh+/bpNmjTJrly54q0RJhoPbtXk5OSwlZUyTcV0BPRtSNVzrbX7nKImMIcQc355SEa8c/z%5C%0A4cTUnDEhQzom/C0+kQZvnfRuy8LtfxyQSx8sNcunWrVu/fC/g6/ifggYNyiK30h++J/13FPwJSEjPa1LfldoAAAAASUVORK5CYII%3D%22%2C%0A%20%20cssOn%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAHE0lEQVR42s1XeVBVZRT/3QfvASICbiiCImqJ%5C%0AK44m4prikpJMuZNiOq4VKkwSxqbCExNKxdSxccrS0lEkGzUH1xJNCRtQwaVcSEtDccEFgfeA2zn3e4+38ZL8o+nOvLnf+8655/zO+p1PAj1OoxJ26b1D%5C%0AJuI/etS3j2ZWHdRO4rXEymtdvCa6BUdCI9ky18j2BckSnvtI9H1VLVChA/QkTOUgwaFgPVQVdxQQkua1RFnXJxHDOqkxpB3wTG+lhAQwBhUpqzWAMerV%5C%0AOBj+S4LO7xpS1lgDNHUB7j0DXBzJYuJ7WAl4OgPZV4BjxQTmZBJ02SmSANA7ASNe1qCfD6CrMSlnhY4qChEJKScL3J0FoMpqoeRRpQGkGX/rxoBPE7HW%5C%0AMRg1cPMR4O0GlFWK9ZrT1gDIA2Fd1OjZygSABbAV3VoSALLgygPA3xP48zHQjPariO/8HRMv/1wJVLcWQOFd4Q0G35G+KS4DmjcSsn+n9cY8GwBJCA90%5C%0ARAdi1teahPX1Bi7dA6ppr4kT0IasOEdKX6H9/L+EW2EWnhakpFMz4EGFcHvxQ6A9yXxAoXBQCUOukiEbbAAELcOc3iq0dBXK+NelhUDNFvPD7/6+wG/3%5C%0AyQO0T7lU5wG2lEPDVrN3GNB9AtFILWhPdcIADgHLXv+zNYC+y7Ggn6TE1ehOFtTDS8T7OlnyUjMh6G45xdlN7BnDxTycJ/oaERoGxx6s1Iv8YBDMIxkS%5C%0A9n8GYFSCrAtOQXQ/wNlRKGd3cgxZaGEJkHmR/Pa0BMN7emNgWyGIgWzIoZQuzqaPquEaOBVRwaI07dEYYCMCln7SHMDIeLmmvxYLCYBaJRBzuRVSfHfu%5C%0AJ86vBln0halZslJS6atXUVEvMREGfYj4ZamKV+qjRcenKlXlRXkWnW0FwHO4FhmjRVZzsmReAL4LlywE4MRKZemfIeP6lcvkxwBBG51B9doR7l3HIDII%5C%0AWLHHPo37Ayei9rhFCOJl/1At4oaIMjlyHdgcZlAeuhZjwhfhQK5BaMgKjJsbh2/Xx9UBeme/jDYkuIpi7OcBzFpUP42zv72HeMccsvKADwF4n2J0sZRi%5C%0Al5YEHE8Bxn6GjYlz8YQSb/dF4Mz5yxjVtzM6NKVGkm7goWfkVhmD/YAnVaLbLYqtn2Zs3Vyalh4gACHTtVjcnwxMOwts6qUwxx6WEUid8WyJCAsnKIPR%5C%0AkTWpO04Bnw8QUkclIHhCCoZ3EI1q/qb6aZwbnOAMYu1pqxAMDNcigBrPhlCD62PvI+PNpko2czUs20cZWV2OmFB/BUjJUwrTrsPA1yMF/xtbEBc5Q8nw%5C%0AG2W2tMSFMxQA86KF/O5TZEsPjHhbixtU10WRgmHCLllptxVkrTaHdCeJ/fBMGR2bCbmu5Moln+4GdtEYEbYZ8Ytmw0Ut4m1NS4yajZkLLc/uzj6JJgAT%5C%0A52nxTT4FaoWzoM6kILUKpL67H8iaKvam7MXK98YqBxK34EPXKC92f0yLGAr8NcSH+cNNI8JkTbs0XweniQE2s4J/EQSAlCQtjlL2H5puZ8KIKsaayX7w%5C%0ApDqet5esPJEGHI410WflYum0IKwkb+nyqPS+jxL7Q5fj0sZJdWz1gVAALE3QKgnyCSVHWeEBOr6uEjd1jHZDMaC7P8J7UCOsEgdMetpHVKvUF8Z9CQSE%5C%0AK0Lih2mU8lq1bgOwL5Lqn6xvPxaXFtTaKLQGoQBYrdUqsXtcJXo1Dx/cvzkxuTvy8VpKR6qHk2hW3Nfbuos95uUzxHqSijgjoau3CpeDLtgFoYTAiQCk%5C%0AJWsVwfaE2RvL+Iw3lpb5JDU9T0KXNkRsNZiyLRKXK7ragOgZvV0kIQOIjtEqltcn7J/GMp7/ZFh+Y60cDwqoHfeyANEnq7OpDGkqlqMWpygWWQt73liW%5C%0Ad0t8w2HiSUpR7ksubP0qjUZzhXJPqqarm4FbR5Rw7CntjBU5sA/AKKwhY1kuAWhJ09GtJ8BbuaTch9zUvA9Z/i5NrL+alJf+hMLicuSHysqsMH+fGQBn%5C%0AGkiiFycrLjYKa+hYxm2Zc+f146R8Whbw42Rg4Bc2youul+NoiFw3yFicBQxgeUKyMrOzMD4uGzoVcae8Q235g/KhZPUCAaB7rI3ywjDZYpJK/IES+pTZ%5C%0ASLY1PRmVFPeHFUJ4QwGcuU19QZpA9elH7usv3MQgvIfVKS8YK9eNYsaKithZCU1+qgnA5DnJ8HIT8edSY29w5nOZ8Z7x5sNhMhd2kG4528ZLkG9kmcrm%5C%0A8U1KlrYo2jYe58hyuZ6rXUSmHppfUuqSULkb6tvR6SVz56J0V1O2qQiFhq45Di5UepJywLi7CHDuRPag9Y4cGlTWiaaigPiDuuhj2nP1RcS9HbD37Nxm%5C%0AdjdUOtML3o7lY0tJcU7d//PrfBFYsPW531ncjv+tUmsM5Koj9NpCv+0vIuBvyK/OYFUudcYAAAAASUVORK5CYII%3D%22%2C%0A%20%20cssOffText%3A%20%22CSS%20Off%22%2C%0A%20%20cssOnText%3A%20%22CSS%20On%22%2C%0A%20%20dialogTitleText%3A%20%22Easy%20Reader%20Icon%20Picker%22%2C%0A%20%20editBtnText%3A%20%22Edit%20text%22%2C%0A%20%20editorTitleText%3A%20%22Easy%20Reader%20Text%20Editor%22%2C%0A%20%20expandTooltip%3A%20true%2C%0A%20%20expandTooltipText%3A%20%22Expanded%20Tooltip%22%2C%0A%20%20removePrefs%3A%20false%2C%0A%20%20selectIconText%3A%20%22Select%20icon%20for%3A%22%2C%0A%20%20tooltip1Text%3A%20%22%20%28Middle-click%20for%20settings%29%22%2C%0A%20%20tooltip2Text%3A%20%22%20Changes%20various%20elements%22%0A%7D%0A%0Afor%20%28let%20key%20in%20pref.defaults%29%20%7B%0A%20%20if%20%28pref.defaults.hasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20let%20val%20%3D%20pref.defaults%5Bkey%5D%3B%0A%20%20%20%20switch%20%28typeof%20val%29%20%7B%0A%20%20%20%20%20%20case%20%27boolean%27%3A%0A%20%20%20%20%20%20%20%20Services.prefs.getDefaultBranch%28pref.root%29.setBoolPref%28key%2C%20val%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27number%27%3A%0A%20%20%20%20%20%20%20%20Services.prefs.getDefaultBranch%28pref.root%29.setIntPref%28key%2C%20val%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27string%27%3A%0A%20%20%20%20%20%20%20%20str.data%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20Services.prefs.getDefaultBranch%28pref.root%29.setComplexValue%28key%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%7D%20%7D%20%7D%0A%0Afunction%20pref%28key%29%20%7B%0A%20%20let%20%7Bbranch%2C%20defaults%7D%20%3D%20pref%3B%0A%20%20if%20%28branch%20%3D%3D%20null%29%20branch%20%3D%20Services.prefs.getBranch%28pref.root%29%3B%0A%20%20switch%20%28typeof%20defaults%5Bkey%5D%29%20%7B%0A%20%20%20%20case%20%27boolean%27%3A%20return%20branch.getBoolPref%28key%29%3B%0A%20%20%20%20case%20%27number%27%3A%20return%20branch.getIntPref%28key%29%3B%0A%20%20%20%20case%20%27string%27%3A%20return%20branch.getComplexValue%28key%2C%20Ci.nsISupportsString%29.data%3B%0A%20%20%7D%0A%20%20return%20null%3B%0A%7D%0A%0Afunction%20getSS%28filepath%29%20%7B%0A%20%20return%20ios.newURI%28%27data%3Atext/css%2C%27%20+%20filepath%2C%20null%2C%20null%29%3B%0A%7D%0A%0Afunction%20loadSheet%28filepath%29%20%7B%0A%20%20sss.loadAndRegisterSheet%28getSS%28filepath%29%2C%20sss.USER_SHEET%29%3B%0A%7D%0A%0Afunction%20unloadSheet%28filepath%29%20%7B%0A%20%20let%20uri%20%3D%20getSS%28filepath%29%3B%0A%20%20if%20%28sss.sheetRegistered%28uri%2C%20sss.USER_SHEET%29%29%20sss.unregisterSheet%28uri%2C%20sss.USER_SHEET%29%3B%0A%7D%0A%0Afunction%20gCV%28aKey%2C%20aBranch%29%20%7B%0A%20%20return%20Services.prefs.getComplexValue%28%21aBranch%20%3F%20pref.root%20+%20aKey%20%3A%20aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%7D%0A%0Afunction%20sCV%28aKey%2C%20aVal%2C%20aBranch%29%20%7B%0A%20%20str.data%20%3D%20aVal%3B%0A%20%20Services.prefs.setComplexValue%28%21aBranch%20%3F%20pref.root%20+%20aKey%20%3A%20aKey%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%7D%0A%0Afunction%20getImage%28%29%20%7B%0A%20%20let%20uri%20%3D%20content.document.documentURIObject%2C%20eTLD%3B%0A%20%20if%20%28uri.spec.match%28/chrome%3A%7Cabout%3A/%29%29%20this.image%20%3D%20gCV%28%27cssOff%27%29%3B%0A%20%20try%20%7B%0A%20%20%20%20eTLD%20%3D%20etl.getBaseDomain%28uri%29%3B%0A%20%20%7D%20catch%20%28ex%29%20%7BeTLD%20%3D%20uri.host%7D%0A%20%20let%20domain%20%3D%20pref%28%27baseDomain%27%29%20%3F%20eTLD%20%3A%20uri.host%2C%0A%20%20%20%20%20%20css%20%3D%20%27@-moz-document%20domain%28%5C%22%27%20+%20domain%20+%20%27%5C%22%29%20%7B%27%20+%20this.Help%20+%20%27%7D%27%2C%0A%20%20%20%20%20%20cssURI%20%3D%20makeURI%28%27data%3Atext/css%2C%27%20+%20encodeURIComponent%28css%29%29%3B%0A%20%20if%20%28sss.sheetRegistered%28cssURI%2C%20sss.USER_SHEET%29%29%20this.image%20%3D%20gCV%28%27cssOn%27%29%3B%0A%20%20else%20this.image%20%3D%20gCV%28%27cssOff%27%29%3B%0A%7D%0A%0Alet%20gRoot%20%3D%20Services.prefs.getBranch%28pref.root%29%3B%0A%0Athis.image%20%3D%20gCV%28%27cssOff%27%29%3B%0A%0Athis.onclick%20%3D%20function%28aEvent%29%20%7B%0A%20%20if%20%28aEvent.button%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20let%20uri%20%3D%20content.document.documentURIObject%2C%20eTLD%3B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20eTLD%20%3D%20etl.getBaseDomain%28uri%29%3B%0A%20%20%20%20%7D%20catch%20%28ex%29%20%7BeTLD%20%3D%20uri.host%7D%0A%20%20%20%20let%20domain%20%3D%20pref%28%27baseDomain%27%29%20%3F%20eTLD%20%3A%20uri.host%2C%0A%20%20%20%20%20%20%20%20css%20%3D%20%27@-moz-document%20domain%28%5C%22%27%20+%20domain%20+%20%27%5C%22%29%20%7B%27%20+%20this.Help%20+%20%27%7D%27%2C%0A%20%20%20%20%20%20%20%20cssURI%20%3D%20makeURI%28%27data%3Atext/css%2C%27%20+%20encodeURIComponent%28css%29%29%3B%0A%20%20%20%20if%20%28sss.sheetRegistered%28cssURI%2C%20sss.USER_SHEET%29%29%20%7B%0A%20%20%20%20%20%20sss.unregisterSheet%28cssURI%2C%20sss.USER_SHEET%29%3B%0A%20%20%20%20%20%20this.image%20%3D%20gCV%28%27cssOff%27%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20sss.loadAndRegisterSheet%28cssURI%2C%20sss.USER_SHEET%29%3B%0A%20%20%20%20%20%20this.image%20%3D%20gCV%28%27cssOn%27%29%3B%0A%20%20%7D%20%7D%0A%20%20if%20%28aEvent.button%20%3D%3D%3D%201%29%20%7B%0A%20%20%20%20if%20%28wm%28%22easy%3Areader%22%29%29%20%20return%3B%0A%20%20%20%20let%20data%20%3D%20%27%3C%3Fxml%20version%3D%221.0%22%3F%3E%3C%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin/%22%20type%3D%22text/css%22%3F%3E%5C%0A%20%20%20%20%20%20%3Cwindow%20xmlns%3D%22%27%20+%20xulns%20+%20%27%22%20id%3D%22easyReader%22%20windowtype%3D%22easy%3Areader%22%20minwidth%3D%22405%22%20minheight%3D%22110%22%20%5C%0A%20%20%20%20%20%20%20%20title%3D%22%27%20+%20gCV%28%22dialogTitleText%22%29%20+%20%27%22%20persist%3D%22screenX%20screenY%20width%20height%22%3E%5C%0A%20%20%20%20%20%20%20%20%3Chbox%20id%3D%22hbox1%22%20class%3D%22hbox%22%20align%3D%22center%22%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%3Clabel%20id%3D%22selectIcon%22%20value%3D%22%27%20+%20gCV%28%22selectIconText%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22cssOff%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22cssOffText%22%29%20+%20%27%22%20image%3D%22%27%20+%20gCV%28%22cssOff%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22self.onIcon%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22cssOn%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22cssOnText%22%29%20+%20%27%22%20image%3D%22%27%20+%20gCV%28%22cssOn%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22self.onIcon%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22editBtn%22%20label%3D%22%27%20+%20gCV%28%22editBtnText%22%29%20+%20%27%22%20image%3D%22%22%20style%3D%22min-width%3A%2032px%3B%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22self.onEdit%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3C/hbox%3E%5C%0A%20%20%20%20%20%20%20%20%3Chbox%20id%3D%22hbox2%22%20class%3D%22hbox%22%20align%3D%22center%22%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%3Ccheckbox%20id%3D%22baseDomain%22%20label%3D%22%27%20+%20gCV%28%22baseDomainText%22%29%20+%20%27%22%20checked%3D%22%27%20+%20pref%28%22baseDomain%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22self.onCheckbox%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%3Ccheckbox%20id%3D%22expandTooltip%22%20label%3D%22%27%20+%20gCV%28%22expandTooltipText%22%29%20+%20%27%22%20checked%3D%22%27%20+%20pref%28%22expandTooltip%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22self.onCheckbox%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3C/hbox%3E%5C%0A%20%20%20%20%20%20%20%20%3Chbox%20id%3D%22hbox3%22%20class%3D%22hbox%22%20align%3D%22center%22%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%3Cvbox%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20id%3D%22baseDomain1%22%20class%3D%22label%22%20value%3D%22%27%20+%20gCV%28%22baseDomain1Text%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20id%3D%22baseDomain2%22%20class%3D%22label%22%20value%3D%22%27%20+%20gCV%28%22baseDomain2Text%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%3C/vbox%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%3Cspacer%20id%3D%22spacer1%22%20flex%3D%221%22/%3E%5C%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22closeBtn%22%20label%3D%22%27%20+%20gCV%28%22closeBtnText%22%29%20+%20%27%22%20style%3D%22min-width%3A%2032px%3B%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20oncommand%3D%22close%28%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3C/hbox%3E%5C%0A%20%20%20%20%20%20%3C/window%3E%27%3B%0A%20%20%20%20data%20%3D%20data.replace%28/self/g%2C%20%27opener.document.getElementById%28%26quot%3B%27%20+%20self.id%20+%20%27%26quot%3B%29%27%29%3B%0A%20%20%20%20let%20url%20%3D%20%27data%3Aapplication/vnd.mozilla.xul+xml%3Btext/plain%2C%27%20+%20encodeURIComponent%28data%29%3B%0A%20%20%20%20window.openDialog%28url%2C%20%27%27%2C%20%27chrome%2Ccenterscreen%2Cresizable%2CalwaysRaised%27%29%3B%0A%7D%20%7D%0A%0Athis.onEdit%20%3D%20function%28e%29%20%7B%0A%20%20let%20data%20%3D%20%27%3C%3Fxml%20version%3D%221.0%22%3F%3E%3C%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin/%22%20type%3D%22text/css%22%3F%3E%5C%0A%20%20%20%20%3Cwindow%20xmlns%3D%22%27%20+%20xulns%20+%20%27%22%20id%3D%22textEditor%22%20windowtype%3D%22text%3Aeditor%22%20minwidth%3D%22340%22%20minheight%3D%22318%22%20%5C%0A%20%20%20%20%20%20title%3D%22%27%20+%20gCV%28%22editorTitleText%22%29%20+%20%27%22%20persist%3D%22screenX%20screenY%20width%20height%22%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22dialogTitleText%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22dialogTitleText%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20true%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22editorTitleText%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22editorTitleText%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20true%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22selectIconText%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22selectIconText%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20true%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22cssOffText%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22cssOffText%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20false%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22cssOnText%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22cssOnText%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20false%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22editBtnText%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22editBtnText%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20false%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22baseDomainText%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22baseDomainText%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20false%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22expandTooltipText%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22expandTooltipText%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20false%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22baseDomain1Text%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22baseDomain1Text%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20true%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22baseDomain2Text%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22baseDomain2Text%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20true%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22closeBtnText%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22closeBtnText%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20false%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22tooltip1Text%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22tooltip1Text%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20false%29%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22tooltip2Text%22%20class%3D%22textbox%22%20value%3D%22%27%20+%20gCV%28%22tooltip2Text%22%29%20+%20%27%22%20oninput%3D%22self.onTextbox%28this%2C%20false%29%22/%3E%5C%0A%20%20%20%20%20%20%3Chbox%20id%3D%22hbox1%22%20class%3D%22hbox%22%20align%3D%22center%22%20pack%3D%22end%22%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22closeBtnText%22%20label%3D%22%27%20+%20gCV%28%22closeBtnText%22%29%20+%20%27%22%20style%3D%22min-width%3A%2032px%3B%22%20oncommand%3D%22close%28%29%22/%3E%5C%0A%20%20%20%20%20%20%3C/hbox%3E%5C%0A%20%20%20%20%3C/window%3E%27%3B%0A%20%20data%20%3D%20data.replace%28/self/g%2C%20%27opener.document.getElementById%28%26quot%3B%27%20+%20self.id%20+%20%27%26quot%3B%29%27%29%3B%0A%20%20let%20url%20%3D%20%27data%3Aapplication/vnd.mozilla.xul+xml%3Btext/plain%2C%27%20+%20encodeURIComponent%28data%29%3B%0A%20%20window.openDialog%28url%2C%20%27%27%2C%20%27chrome%2Ccenterscreen%2Cresizable%2CalwaysRaised%27%29%3B%0A%7D%0A%0Athis.onTextbox%20%3D%20function%28e%2C%20x%29%20%7B%0A%20%20e.value%20%3D%20e.value.replace%28/%22/g%2C%20%22%27%22%29%3B%0A%20%20sCV%28e.id%2C%20e.value%29%3B%0A%20%20let%20str%20%3D%20e.id.split%28%27Text%27%29%5B0%5D%2C%20mrd%20%3D%20wm%28%27easy%3Areader%27%29%2C%20%0A%20%20%20%20%20%20mrw%20%3D%20wm%28%27text%3Aeditor%27%29%2C%20aId%20%3D%20mrd.document.getElementById%28str%29%3B%0A%20%20if%20%28e.id%20%3D%3D%3D%20%27closeBtnText%27%29%20%7B%0A%20%20%20%20mrd.document.getElementById%28str%29.label%20%3D%20gCV%28%27closeBtnText%27%29%3B%0A%20%20%20%20e.nextSibling.nextSibling.nextSibling.firstChild.label%20%3D%20gCV%28%27closeBtnText%27%29%3B%0A%20%20%7D%0A%20%20if%20%28e.id.match%28%27Title%27%29%29%20%7B%0A%20%20%20%20mrd.document.title%20%3D%20gCV%28%27dialogTitleText%27%29%3B%0A%20%20%20%20mrw.document.title%20%3D%20gCV%28%27editorTitleText%27%29%3B%0A%20%20%7D%0A%20%20if%20%28x%20%26%26%20%21e.id.match%28%27tooltip%27%29%29%20mrd.document.getElementById%28str%29.value%20%3D%20e.value%3B%0A%20%20if%20%28%21x%20%26%26%20%21e.id.match%28%27tooltip%27%29%29%20mrd.document.getElementById%28str%29.label%20%3D%20e.value%3B%0A%20%20if%20%28e.id.match%28%27tooltip%27%29%29%20%7B%0A%20%20%20%20if%20%28pref%28%27expandTooltip%27%29%29%20_this.tooltipText%20%3D%20_this.label%20+%20gCV%28%27tooltip1Text%27%29%20+%20%27%5Cn%20%5Cu2022%27%20+%20gCV%28%27tooltip2Text%27%29%3B%0A%20%20%20%20else%20_this.tooltipText%20%3D%20_this.label%3B%0A%7D%20%7D%0A%0Athis.onIcon%20%3D%20function%28e%29%20%7B%0A%20%20fp.init%28window%2C%20null%2C%20fp.modeOpen%29%3B%0A%20%20fp.appendFilters%28fp.filterImages%29%3B%0A%20%20if%20%28fp.show%28%29%20%21%3D%20fp.returnCancel%29%20%7B%0A%20%20%20%20sCV%28e.id%2C%20fp.fileURL.spec%29%3B%0A%20%20%20%20e.image%20%3D%20gCV%28e.id%29%3B%0A%20%20%20%20getImage%28%29%3B%0A%7D%20%7D%0A%0Athis.onCheckbox%20%3D%20function%28e%29%20%7B%0A%20%20let%20bool%20%3D%20pref%28e.id%29%20%21%3D%3D%20false%20%3F%20false%20%3A%20true%3B%0A%20%20gRoot.setBoolPref%28e.id%2C%20bool%29%3B%0A%20%20if%20%28e.id%20%3D%3D%3D%20%27expandTooltip%27%29%20%7B%0A%20%20%20%20if%20%28bool%29%20_this.tooltipText%20%3D%20_this.label%20+%20gCV%28%27tooltip1Text%27%29%20+%20%27%5Cn%20%5Cu2022%27%20+%20gCV%28%27tooltip2Text%27%29%3B%0A%20%20%20%20else%20_this.tooltipText%20%3D%20_this.label%3B%0A%7D%20%7D%0A%0Athis.onClose%20%3D%20function%28e%29%20%7B%0A%20%20let%20mrd%20%3D%20wm%28%27easy%3Areader%27%29%3B%0A%20%20mrd.document.getElementById%28%27selectIcon%27%29.setAttribute%28%27label%27%2C%20gCV%28e.id%29%29%3B%0A%7D%0A%0Athis.onDestroy%20%3D%20function%28reason%29%20%7B%0A%20%20if%20%28reason%20%3D%3D%3D%20%27delete%27%29%20%7B%0A%20%20%20%20unloadSheet%28cssClose%29%3B%0A%20%20%20%20unloadSheet%28cssDialog%29%3B%0A%20%20%20%20unloadSheet%28cssEditor%29%3B%0A%20%20%20%20removeEventListener%28%27TabSelect%27%2C%20getImage%29%3B%0A%20%20%20%20if%20%28pref%28%27removePrefs%27%29%29%20Services.prefs.deleteBranch%28pref.root%29%3B%0A%7D%20%7D%0A%0Aif%20%28pref%28%27expandTooltip%27%29%29%20this.tooltipText%20%3D%20this.label%20+%20gCV%28%27tooltip1Text%27%29%20+%20%27%5Cn%20%5Cu2022%27%20+%20gCV%28%27tooltip2Text%27%29%3B%0Aelse%20this.tooltipText%20%3D%20this.label%3B%0A%0AaddEventListener%28%27TabSelect%27%2C%20getImage%29%3B%0A%0AloadSheet%28cssClose%29%3B%0AloadSheet%28cssDialog%29%3B%0AloadSheet%28cssEditor%29%3B%0A%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*CODE*/%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B@namespace%20url%28http%3A//www.w3.org/1999/xhtml%29%3B%0A%0A*%20%7B%0A%20%20border-color%3A%20black%20%21important%3B%0A%20%20color%3A%20black%20%21important%3B%0A%20%20font-family%3A%20Segoe%20UI%2C%20sans%20serif%20%21important%3B%0A%7D%0A%0Ahtml%2C%20body%20%7B%0A%20%20background%3A%20linear-gradient%28to%20bottom%2C%20rgba%28140%2C140%2C140%2C.5%29%2C%20rgba%280%2C0%2C0%2C.4%29%29%20fixed%20%21important%3B%0A%7D%0A%0Adiv%2C%20.footer%2C%20%23footer%2C%20article%2C%20aside%2C%20dt%2C%20figcaption%2C%20footer%2C%20header%2C%20nav%2C%20section%20%7B%0A%20%20background-color%3A%20transparent%20%21important%3B%0A%7D%0A%0Ath%2C%20td%2C%20table%2C%20div%2C%20ul%20%7B%0A%20%20background%3A%20transparent%20%21important%3B%0A%7D%0A%0A%3Alink%2C%20%3Alink%20*%20%7B%0A%20%20color%3A%20black%20%21%20important%3B%20%0A%20%20text-decoration%3A%20none%20%21important%3B%0A%7D%0A%3Avisited%2C%20%3Avisited%20*%20%7B%0A%20%20color%3A%20%23444%20%21important%3B%20%0A%20%20text-decoration%3A%20none%20%21important%3B%0A%7D%0A%0Abutton%20%7B%0A%20%20-moz-appearance%3A%20none%20%21important%3B%0A%20%20background%3A%20linear-gradient%28rgba%28241%2C242%2C243%2C.65%29%2C%20rgba%28236%2C237%2C238%2C.17%29%2049%25%2C%20rgba%28231%2C232%2C233%2C.15%29%2051%25%2C%20rgba%28225%2C226%2C229%2C.3%29%29%20%21important%3B%0A%20%20border%3A%201px%20solid%20%23999%20%21important%3B%0A%20%20box-shadow%3A%200%200%204px%20%23000%20inset%20%21important%3B%0A%20%20color%3A%20%23999%20%21important%3B%0A%20%20padding%3A%204px%20%21important%3B%0A%7D%0A%0Abutton%3Ahover%20%7B%0A%20%20background%3A%20linear-gradient%28rgba%28225%2C226%2C229%2C.3%29%2C%20rgba%28231%2C232%2C233%2C.15%29%2051%25%2C%20rgba%28236%2C237%2C238%2C.17%29%2049%25%2C%20rgba%28241%2C242%2C243%2C.65%29%29%20%21important%3B%0A%20%20color%3A%20%23FFF%20%21important%3B%0A%7D%0A/*%0Aimg%2C%20image%20%7B%0A%20%20opacity%3A%20.5%20%21important%3B%0A%7D%0A%0Aimg%3Ahover%2C%20image%3Ahover%20%7B%0A%20%20opacity%3A%201%20%21important%3B%0A%7D%0A*/%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E
