custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EUser%20Agent%20Switcher%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bfile%3A///C%3A/Users/srazz/Downloads/Images48/profile.png%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B%22use%20strict%22%3B%0A%0Aconst%20removePrefs%20%3D%20false%2C%20//%20Remove%20all%20aRoot%20prefs%20from%20about%3Aconfig%20on%20button%20deletion%0A%20%20%20%20%20%20resetValues%20%3D%20false%2C%20//%20Reset%20all%20site%20list%20domains%20useragents%2C%20set%20by%20button%2C%20to%20default%20values%20on%20button%20deletion%0A%20%20%20%20%20%20aRoot%20%3D%20%22custombuttons.useragent.override.%22%2C%0A%20%20%20%20%20%20aUser%20%3D%20%22general.useragent.override.%22%2C%0A%20%20%20%20%20%20as%20%3D%20Cc%5B%22@mozilla.org/alerts-service%3B1%22%5D.getService%28Ci.nsIAlertsService%29.showAlertNotification%2C%0A%20%20%20%20%20%20ios%20%3D%20Cc%5B%22@mozilla.org/network/io-service%3B1%22%5D.getService%28Ci.nsIIOService%29%2C%0A%20%20%20%20%20%20pb%20%3D%20Cc%5B%22@mozilla.org/preferences-service%3B1%22%5D.getService%28Ci.nsIPrefService%29.QueryInterface%28Ci.nsIPrefBranch%29%2C%0A%20%20%20%20%20%20ss%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%2C%0A%20%20%20%20%20%20sss%20%3D%20Cc%5B%22@mozilla.org/content/style-sheet-service%3B1%22%5D.getService%28Ci.nsIStyleSheetService%29%2C%0A%20%20%20%20%20%20wm%20%3D%20Cc%5B%22@mozilla.org/appshell/window-mediator%3B1%22%5D.getService%28Ci.nsIWindowMediator%29.getMostRecentWindow%2C%0A%20%20%20%20%20%20gRoot%20%3D%20pb.getBranch%28aRoot%29%2C%0A%20%20%20%20%20%20gUser%20%3D%20pb.getBranch%28aUser%29%2C%0A%20%20%20%20%20%20hTab%20%3D%20encodeURIComponent%28this.Help%29%3B%0A%0Apref.defaults%20%3D%20%7B%0A%20%20alertMsg%3A%20%22is%20not%20a%20domain%22%2C%0A%20%20buttonIcon%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAADLElEQVR42n2UXUgUURTH/3dmP6ZcbTUzw1UJlLZk+zDLpezJIsG+XBZRApHYBwuKIkIyCCUxeuihpKdkwSB8MSEikKIIFoIihELcLUXT3R0tt9xVWsf57O4oS+NKF+7M5dz//Oaec+45xO123yaEXMDGg4GimEAAjT4Iw4gbiTRN85OamppZh8NRuH4zmUwiEAgYbFVVB7F1a34GKBKJzJH6+vpgeXm5c/1mf3+//jabzZAkKW13uVyorKw0aMfHx0Okubk56PF4DCCe59HZ2amv21o8KC6wYS6WgCDKKNlZhu2lFQbQ0NBQiLS1tQW9Xq8BFI1EcPXaNX09/fYBGIboa0lWEF3QMIdiA2hwcDBE2tvbg3V1dQaQLMtobGxE15VGtJ6pBsswul2k9rlFCmLKDKDh4eEQ6enpyThRajy4exPXm9zI3ZIFs4kFzSxESUYsSbPkOJ55ot7e3qDP53NaLBbD5ofAa2z+9R4FuTZYrWaYWAbLggSR24GiQ01pnSiK6OvrCxG/3x+kAXdyHJeR1kD/DeRmW8FZzLCaTUiuiCg7eQOs1ZbWCIKAgYGB/4NePrqEbfYsHWKhU1Q07PN2GzRpUIZrf8LARB+QGMVoshb89zGoGkGePQelFW7kYQrmvZepkBhd+zfYXHwExfIEsBynOiqUeUhHHkJYCGMiGsOB6lrg2QlorI0GPoaZ/f7M9BNFhDvxHOoCT9OiAoqk/5Xk50I5/QR7u8cw3lWB5fv7oYa/6IAfu04gsqdjNf2pC3n61Cln0Yd7yN+UA00WKIeCZBFSLAw1EYb9eAsaRi7iTUc2ZjqOQv0T10EMC3zzPsWLN4HVEmk4d9bpencHxLadgkQdJM6HIdGZ8jCrpBQHph4jepPH5L3WdKBTe4GaW/gYnAzpRVta7HCeX/oMVZaw8nsewjxPgXL6A3qF4Nn2CkOxk7SraGm7xQS8OOzDVHQ2tNZGigpzpr/i2PwkpKVFbDR+llShYOYTUmW3aLNjirNjdvch+hd2tY2kG5umEdqgUoEmjCixOUtxjqgqUViTqrCsusJtkmUrJ1N/tFS5rPmmHy/V2P4C6DluwuG4xBYAAAAASUVORK5CYII%3D%22%2C%0A%20%20buttonIconLabel%3A%20%22Button%20icon%22%2C%0A%20%20buttonIconTip%3A%20%22Change%20toolbarbutton-icon%20via%20filepicker%22%2C%0A%20%20closeButtonLabel%3A%20%22Close%22%2C%0A%20%20closeButtonTip%3A%20%22Close%20dialog%22%2C%0A%20%20dialogLeft%3A%20300%2C%0A%20%20dialogTop%3A%20300%2C%0A%20%20placeHolder%3A%20%22Enter%20useragent%20override%20here%22%2C%0A%20%20prefsButtonLabel%3A%20%22about%3Aconfig%22%2C%0A%20%20prefsButtonTip%3A%20%22Open%20prefs%20in%20about%3Aconfig%20for%20editing%22%2C%0A%20%20presetsLabel%3A%20%22Presets%3A%20Click%20on%20useragent%20override%20string%20below%20to%20auto%20inset%20into%20textbox%22%2C%0A%20%20resetButtonLabel%3A%20%22Reset%22%2C%0A%20%20resetButtonTip%3A%20%22Resets%20current%20site%20domain%20to%20default%20useragent%20value%22%2C%0A%20%20saveButtonLabel%3A%20%22Save%22%2C%0A%20%20saveButtonTip%3A%20%22Save%20useragent%20override%20for%20current%20site%20domain%22%2C%0A%20%20domainLabel%3A%20%22Current%20site%20domain%3A%22%2C%0A%20%20str1%3A%20%22Mozilla/5.0%20%28Windows%20NT%2010.0%3B%20Win64%3B%20x64%3B%20rv%3A78.0%29%20Gecko/20100101%20Firefox/78.0%22%2C%0A%20%20str2%3A%20%22Mozilla/5.0%20%28platform%3B%20rv%3A56.0%29%20Gecko/20100101%20Firefox/56.0%20Waterfox/waterfoxversion%22%2C%0A%20%20str3%3A%20%22Mozilla/5.0%20%28Windows%20NT%2010.0%3B%20Win64%3B%20x64%3B%20rv%3A56.0%29%20Gecko/20100101%20Firefox/56.0%20Waterfox/56.3%22%2C%0A%20%20str4%3A%20%22Mozilla/5.0%20%28Windows%20NT%2010.0%3B%20Win64%3B%20x64%29%20AppleWebKit/537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome/83.0.4103.116%20Safari/537.36%22%2C%0A%20%20useragentLabelTip%3A%20%22Click%20to%20insert%20into%20texbox%22%0A%7D%0A%0Afor%20%28let%20key%20in%20pref.defaults%29%20%7B%0A%20%20if%20%28pref.defaults.hasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20let%20val%20%3D%20pref.defaults%5Bkey%5D%3B%0A%20%20%20%20switch%20%28typeof%20val%29%20%7B%0A%20%20%20%20%20%20case%20%22boolean%22%3A%0A%20%20%20%20%20%20%20%20pb.getDefaultBranch%28aRoot%29.setBoolPref%28key%2C%20val%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22number%22%3A%0A%20%20%20%20%20%20%20%20pb.getDefaultBranch%28aRoot%29.setIntPref%28key%2C%20val%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22string%22%3A%0A%20%20%20%20%20%20%20%20ss.data%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20pb.getDefaultBranch%28aRoot%29.setComplexValue%28%28key%29%2C%20Ci.nsISupportsString%2C%20ss%29%3B%0A%7D%20%7D%20%7D%0A%0Afunction%20pref%28key%29%20%7B%0A%20%20let%20%7Bbranch%2C%20defaults%7D%20%3D%20pref%3B%0A%20%20if%20%28branch%20%3D%3D%20null%29%20branch%20%3D%20pb.getBranch%28aRoot%29%3B%0A%20%20switch%20%28typeof%20defaults%5Bkey%5D%29%20%7B%0A%20%20%20%20case%20%22boolean%22%3A%0A%20%20%20%20%20%20return%20branch.getBoolPref%28key%29%3B%0A%20%20%20%20case%20%22number%22%3A%0A%20%20%20%20%20%20return%20branch.getIntPref%28key%29%3B%0A%20%20%20%20case%20%22string%22%3A%0A%20%20%20%20%20%20return%20branch.getCharPref%28key%29%3B%0A%20%20%7D%0A%20%20return%20null%3B%0A%7D%0A%0Afunction%20getSS%28filepath%29%20%7B%0A%20%20return%20ios.newURI%28%22data%3Atext/css%2C%22%20+%20filepath%2C%20null%2C%20null%29%3B%0A%7D%0A%0Afunction%20loadSheet%28filepath%29%20%7B%0A%20%20sss.loadAndRegisterSheet%28getSS%28filepath%29%2C%20sss.AGENT_SHEET%29%3B%0A%7D%0A%0Afunction%20unloadSheet%28filepath%29%20%7B%0A%20%20let%20uri%20%3D%20getSS%28filepath%29%3B%0A%20%20if%20%28sss.sheetRegistered%28uri%2C%20sss.AGENT_SHEET%29%29%20sss.unregisterSheet%28uri%2C%20sss.AGENT_SHEET%29%3B%0A%7D%0A%0Afunction%20sortByString%28a%2C%20b%29%20%7B%0A%20%20return%20a.localeCompare%28b%29%3B%0A%7D%0A%0Afunction%20gCV%28aKey%29%20%7B%0A%20%20return%20pb.getComplexValue%28aRoot%20+%20aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%7D%0A%0Afunction%20sCV%28aKey%2C%20aVal%29%20%7B%0A%20%20ss.data%20%3D%20aVal%3B%0A%20%20pb.setComplexValue%28aRoot%20+%20aKey%2C%20Ci.nsISupportsString%2C%20ss%29%3B%0A%7D%0A%0AloadSheet%28hTab%29%3B%0A%0Athis.image%20%3D%20pref%28%22buttonIcon%22%29%3B%0A%0Athis.onclick%20%3D%20function%28e%29%20%7B%0A%20%20if%20%28e.button%20%21%3D%3D%200%29%20return%3B%0A%20%20if%20%28gURLBar.value.match%28/about%3A%7Cchrome%3A%7Cfile%3A/%29%29%20%7B%0A%20%20%20%20let%20str%20%3D%20gURLBar.value.split%28%22%23%22%29%5B0%5D.split%28%22%5C/%5C/%22%29%5B0%5D%3B%0A%20%20%20%20as%28this.image%2C%20this.label%2C%20str%20+%20%22%20%22%20+%20gCV%28%22alertMsg%22%29%2C%20false%2C%20null%2C%20null%2C%20%22%22%29%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20if%20%28wm%28%22useragent%3Adialog%22%29%29%20%7B%0A%20%20%20%20wm%28%22useragent%3Adialog%22%29.close%28%29%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20let%20data%20%3D%20%27%3C%3Fxml%20version%3D%221.0%22%3F%3E%3C%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin/%22%20type%3D%22text/css%22%3F%3E%5C%0A%20%20%20%20%3Cwindow%20xmlns%3D%22%27%20+%20xulns%20+%20%27%22%20id%3D%22useragent-dialog%22%20windowtype%3D%22useragent%3Adialog%22%20%5C%0A%20%20%20%20%20%20persist%3D%22width%20height%22%20title%3D%22%27%20+%20self.label%20+%20%27%22%20onload%3D%22self.onDialogLoad%28this%29%22%20%5C%0A%20%20%20%20%20%20onclose%3D%22self.onDialogClose%28%29%22%20onblur%3D%22self.onDialogBlur%28%29%22%3E%5C%0A%20%20%20%20%20%20%3Chbox%20id%3D%22domainContainer%22%20class%3D%22hbox%22%20align%3D%22center%22%3E%5C%0A%20%20%20%20%20%20%20%20%3Clabel%20id%3D%22domainLabel%22%20class%3D%22label%22%20value%3D%22%27%20+%20gCV%28%22domainLabel%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Ctextbox%20id%3D%22domainTextbox%22%20class%3D%22textbox%22%20flex%3D%221%22/%3E%5C%0A%20%20%20%20%20%20%3C/hbox%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22useragentTextbox%22%20placeholder%3D%22%27%20+%20gCV%28%22placeHolder%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20oninput%3D%22self.onDialogInput%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%3Cvbox%20id%3D%22labelContainer%22%3E%5C%0A%20%20%20%20%20%20%20%20%3Clabel%20id%3D%22presetsLabel%22%20value%3D%22%27%20+%20gCV%28%22presetsLabel%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Clabel%20id%3D%22useragentLabel1%22%20class%3D%22label%22%20value%3D%22%27%20+%20pref%28%22str1%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20tooltiptext%3D%22%27%20+%20gCV%28%22useragentLabelTip%22%29%20+%20%27%22%20onclick%3D%22self.onDialogLabel%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Clabel%20id%3D%22useragentLabel2%22%20class%3D%22label%22%20value%3D%22%27%20+%20pref%28%22str2%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20tooltiptext%3D%22%27%20+%20gCV%28%22useragentLabelTip%22%29%20+%20%27%22%20onclick%3D%22self.onDialogLabel%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Clabel%20id%3D%22useragentLabel3%22%20class%3D%22label%22%20value%3D%22%27%20+%20pref%28%22str3%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20tooltiptext%3D%22%27%20+%20gCV%28%22useragentLabelTip%22%29%20+%20%27%22%20onclick%3D%22self.onDialogLabel%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Clabel%20id%3D%22useragentLabel4%22%20class%3D%22label%22%20value%3D%22%27%20+%20pref%28%22str4%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20tooltiptext%3D%22%27%20+%20gCV%28%22useragentLabelTip%22%29%20+%20%27%22%20onclick%3D%22self.onDialogLabel%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%3C/vbox%3E%5C%0A%20%20%20%20%20%20%3Chbox%20id%3D%22buttonContainer%22%20class%3D%22hbox%22%20align%3D%22center%22%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22buttonIcon%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22buttonIconLabel%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20tooltiptext%3D%22%27%20+%20gCV%28%22buttonIconTip%22%29%20+%20%27%22%20oncommand%3D%22self.onDialogIcon%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22imageIcon%22%20class%3D%22image%22%20src%3D%22%27%20+%20pref%28%22buttonIcon%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cspacer%20id%3D%22buttonSpacer%22%20class%3D%22spacer%22%20flex%3D%221%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22prefsButton%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22prefsButtonLabel%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20tooltiptext%3D%22%27%20+%20gCV%28%22prefsButtonTip%22%29%20+%20%27%22%20oncommand%3D%22self.onDialogPrefs%28%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22saveButton%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22saveButtonLabel%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20tooltiptext%3D%22%27%20+%20gCV%28%22saveButtonTip%22%29%20+%20%27%22%20oncommand%3D%22self.onDialogSave%28%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22resetButton%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22resetButtonLabel%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20tooltiptext%3D%22%27%20+%20gCV%28%22resetButtonTip%22%29%20+%20%27%22%20oncommand%3D%22self.onDialogReset%28%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22closeButton%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22closeButtonLabel%22%29%20+%20%27%22%20%5C%0A%20%20%20%20%20%20%20%20%20%20tooltiptext%3D%22%27%20+%20gCV%28%22closeButtonTip%22%29%20+%20%27%22%20oncommand%3D%22self.onDialogClose%28%29%22/%3E%5C%0A%20%20%20%20%20%20%3C/hbox%3E%5C%0A%20%20%20%20%3C/window%3E%27%3B%0A%20%20data%20%3D%20data.replace%28/self/g%2C%20%22opener.document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29%22%29%3B%0A%20%20let%20url%20%3D%20%22data%3Aapplication/vnd.mozilla.xul+xml%3Btext/plain%2C%22%20+%20encodeURIComponent%28data%29%3B%0A%20%20window.openDialog%28url%2C%20%22%22%2C%20%22chrome%2Cdialog%2Cresizable%2CalwaysRaised%22%29%3B%0A%7D%0A%0Athis.onDestroy%20%3D%20function%28reason%29%20%7B%0A%20%20if%20%28reason%20%3D%3D%3D%20%22delete%22%29%20%7B%0A%20%20%20%20unloadSheet%28hTab%29%3B%0A%20%20%20%20if%20%28removePrefs%29%20pb.deleteBranch%28aRoot%29%3B%0A%20%20%20%20if%20%28resetValues%29%20pb.deleteBranch%28gUser%29%3B%0A%7D%20%7D%0A%0Athis.onDialogBlur%20%3D%20function%28%29%20%7B%0A%20%20let%20dlg%20%3D%20wm%28%22useragent%3Adialog%22%29%2C%0A%20%20%20%20%20%20dom%20%3D%20dlg.document.getElementById%28%22domainTextbox%22%29%3B%0A%20%20gRoot.setIntPref%28%22dialogLeft%22%2C%20dlg.screenX%29%3B%0A%20%20gRoot.setIntPref%28%22dialogTop%22%2C%20dlg.screenY%29%3B%0A%20%20dlg.close%28%29%3B%0A%20%20setTimeout%28function%28%29%20%7B%20wm%28%22navigator%3Abrowser%22%29.document.getElementById%28self.id%29.click%28%29%20%7D%2C%20500%29%3B%0A%7D%0A%0Athis.onDialogClose%20%3D%20function%28%29%20%7B%0A%20%20let%20dlg%20%3D%20wm%28%22useragent%3Adialog%22%29%3B%0A%20%20gRoot.setIntPref%28%22dialogLeft%22%2C%20dlg.screenX%29%3B%0A%20%20gRoot.setIntPref%28%22dialogTop%22%2C%20dlg.screenY%29%3B%0A%20%20dlg.close%28%29%3B%0A%7D%0A%0Athis.onDialogIcon%20%3D%20function%28e%29%20%7B%0A%20%20let%20win%20%3D%20wm%28%22navigator%3Abrowser%22%29%2C%0A%20%20%20%20%20%20fp%20%3D%20Cc%5B%27@mozilla.org/filepicker%3B1%27%5D.createInstance%28Ci.nsIFilePicker%29%3B%0A%20%20fp.init%28window%2C%20null%2C%20fp.modeOpen%29%3B%0A%20%20fp.appendFilters%28fp.filterImages%29%3B%0A%20%20if%20%28fp.show%28%29%20%21%3D%20fp.returnCancel%29%20%7B%0A%20%20%20%20let%20url%20%3D%20fp.fileURL.spec%3B%0A%20%20%20%20gRoot.setCharPref%28%22buttonIcon%22%2C%20url%29%3B%0A%20%20%20%20win.document.getElementById%28self.id%29.image%20%3D%20url%3B%0A%20%20%20%20e.nextSibling.src%20%3D%20url%3B%0A%7D%20%7D%0A%0Athis.onDialogInput%20%3D%20function%28e%29%20%7B%0A%20%20let%20dlg%20%3D%20wm%28%22useragent%3Adialog%22%29%2C%0A%20%20%20%20%20%20save%20%3D%20dlg.document.getElementById%28%22saveButton%22%29%3B%0A%20%20save.disabled%20%3D%20%21e.value%3B%0A%7D%0A%0Athis.onDialogLabel%20%3D%20function%28e%29%20%7B%0A%20%20let%20dlg%20%3D%20wm%28%22useragent%3Adialog%22%29%2C%0A%20%20%20%20%20%20ua%20%3D%20dlg.document.getElementById%28%22useragentTextbox%22%29%2C%0A%20%20%20%20%20%20save%20%3D%20dlg.document.getElementById%28%22saveButton%22%29%3B%0A%20%20ua.value%20%3D%20e.value%3B%0A%20%20save.disabled%20%3D%20false%3B%0A%7D%0A%0Athis.onDialogLoad%20%3D%20function%28e%29%20%7B%0A%20%20let%20dom%20%3D%20e.document.getElementById%28%22domainTextbox%22%29%2C%0A%20%20%20%20%20%20ua%20%3D%20e.document.getElementById%28%22useragentTextbox%22%29%2C%0A%20%20%20%20%20%20save%20%3D%20e.document.getElementById%28%22saveButton%22%29%2C%0A%20%20%20%20%20%20uri%20%3D%20gBrowser.contentDocument.domain%2C%0A%20%20%20%20%20%20eTLD%20%3D%20uri.replace%28%22www.%22%2C%20%22%22%29%3B%0A%20%20dom.value%20%3D%20eTLD%3B%0A%20%20if%20%28gUser.prefHasUserValue%28eTLD%29%29%20ua.value%20%3D%20gUser.getCharPref%28eTLD%29%3B%0A%20%20else%20ua.value%20%3D%20%22%22%3B%0A%20%20save.disabled%20%3D%20true%3B%0A%20%20e.moveTo%28pref%28%22dialogLeft%22%29%2C%20pref%28%22dialogTop%22%29%29%3B%0A%7D%0A%0Athis.onDialogPrefs%20%3D%20function%28%29%20%7B%0A%20%20let%20win%20%3D%20wm%28%22navigator%3Abrowser%22%29%2C%0A%20%20%20%20%20%20nodes%20%3D%20win.gBrowser.tabContainer.childNodes%2C%0A%20%20%20%20%20%20addTab%20%3D%20true%3B%0A%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20nodes.length%3B%20i++%29%20%7B%0A%20%20%20%20if%20%28nodes%5Bi%5D.linkedBrowser.currentURI.spec.match%28%22about%3Aconfig%22%29%29%20%7B%0A%20%20%20%20%20%20win.gBrowser.selectedTab%20%3D%20nodes%5Bi%5D%3B%0A%20%20%20%20%20%20addTab%20%3D%20false%3B%0A%20%20%7D%20%7D%0A%20%20if%20%28addTab%29%20openUILinkIn%28%22about%3Aconfig%22%2C%20%22tab%22%29%3B%0A%20%20setTimeout%28function%28%29%20%7B%0A%20%20%20%20win.content.document.activeElement.value%20%3D%20%22useragent.override.%22%3B%0A%20%20%20%20win.content.document.getElementById%28%22textbox%22%29.click%28%29%3B%0A%20%20%7D%2C%20250%29%3B%0A%7D%0A%0Athis.onDialogReset%20%3D%20function%28%29%20%7B%0A%20%20let%20dlg%20%3D%20wm%28%22useragent%3Adialog%22%29%2C%0A%20%20%20%20%20%20dom%20%3D%20dlg.document.getElementById%28%22domainTextbox%22%29%2C%0A%20%20%20%20%20%20ua%20%3D%20dlg.document.getElementById%28%22useragentTextbox%22%29%2C%0A%20%20%20%20%20%20save%20%3D%20dlg.document.getElementById%28%22saveButton%22%29%3B%0A%20%20gUser.clearUserPref%28dom.value%29%3B%0A%20%20ua.value%20%3D%20%22%22%3B%0A%20%20save.disabled%20%3D%20true%3B%0A%7D%0A%0Athis.onDialogSave%20%3D%20function%28%29%20%7B%0A%20%20let%20dlg%20%3D%20wm%28%22useragent%3Adialog%22%29%2C%0A%20%20%20%20%20%20dom%20%3D%20dlg.document.getElementById%28%22domainTextbox%22%29%2C%0A%20%20%20%20%20%20ua%20%3D%20dlg.document.getElementById%28%22useragentTextbox%22%29%3B%0A%20%20gUser.setCharPref%28dom.value%2C%20ua.value%29%3B%0A%7D%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*%20CODE%20*/%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%23useragent-dialog%20%7B%0A%20%20padding%3A%204px%20%21important%3B%0A%7D%0A%0A%23useragent-dialog%20%23domainTextbox%20%7B%0A%20%20-moz-appearance%3A%20none%20%21important%3B%0A%20%20background%3A%20none%20%21important%3B%0A%20%20border%3A%20none%20%21important%3B%0A%20%20font-weight%3A%20bold%20%21important%3B%0A%20%20pointer-events%3A%20none%20%21important%3B%0A%7D%0A%0A%23useragent-dialog%20%3E%20%23labelContainer%20%7B%0A%20%20margin%3A%2010px%204px%20%21important%3B%0A%7D%0A%0A%23useragent-dialog%20%3E%20%23labelContainer%20%3E%20.label%20%7B%0A%20%20font-weight%3A%20bold%20%21important%3B%0A%7D%0A%0A%23useragent-dialog%20%3E%20%23labelContainer%20%3E%20.label%3Ahover%20%7B%0A%20%20background%3A%20%23E0E0E0%20%21important%3B%0A%7D%0A%0A%23useragent-dialog%20%23imageIcon%20%7B%0A%20%20max-height%3A%2032px%20%21important%3B%0A%20%20max-width%3A%2032px%20%21important%3B%0A%7D%0A%0A%23useragent-dialog%20.button%20%7B%0A%20%20min-width%3A%2062px%20%21important%3B%0A%7D%5D%5D%3E%3C/help%3E%0A%20%20%3CCSS%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS%3E%0A%20%20%3CxCSS%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS%3E%0A%20%20%3CCSS2%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS2%3E%0A%20%20%3CxCSS2%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS2%3E%0A%20%20%3CCSS3%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS3%3E%0A%20%20%3CxCSS3%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS3%3E%0A%20%20%3CCSS4%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS4%3E%0A%20%20%3CxCSS4%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS4%3E%0A%20%20%3CCSS5%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS5%3E%0A%20%20%3CxCSS5%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS5%3E%0A%20%20%3CHTML%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/HTML%3E%0A%20%20%3CxHTML%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xHTML%3E%0A%20%20%3Cnotes%3E%3C%21%5BCDATA%5B/*%20Notes%20*/%5D%5D%3E%3C/notes%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E
