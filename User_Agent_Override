custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EUser%20Agent%20Override%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bfile%3A///C%3A/Users/srazz/Downloads/Images48/profile.png%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B%22use%20strict%22%3B%0A%0Aconst%20aRoot%20%3D%20%22custombuttons.useragent.override.%22%2C%0A%20%20%20%20%20%20aUser%20%3D%20%22general.useragent.override.%22%2C%0A%20%20%20%20%20%20ios%20%3D%20Cc%5B%22@mozilla.org/network/io-service%3B1%22%5D.getService%28Ci.nsIIOService%29%2C%0A%20%20%20%20%20%20pb%20%3D%20Cc%5B%22@mozilla.org/preferences-service%3B1%22%5D.getService%28Ci.nsIPrefService%29.QueryInterface%28Ci.nsIPrefBranch%29%2C%0A%20%20%20%20%20%20ss%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%2C%0A%20%20%20%20%20%20sss%20%3D%20Cc%5B%22@mozilla.org/content/style-sheet-service%3B1%22%5D.getService%28Ci.nsIStyleSheetService%29%2C%0A%20%20%20%20%20%20wm%20%3D%20Cc%5B%22@mozilla.org/appshell/window-mediator%3B1%22%5D.getService%28Ci.nsIWindowMediator%29.getMostRecentWindow%2C%0A%20%20%20%20%20%20gRoot%20%3D%20pb.getBranch%28aRoot%29%2C%0A%20%20%20%20%20%20gUser%20%3D%20pb.getBranch%28aUser%29%2C%0A%20%20%20%20%20%20hTab%20%3D%20encodeURIComponent%28this.Help%29%3B%0A%0Apref.defaults%20%3D%20%7B%0A%20%20addCurrentSite%3A%20%22Add/Remove%20Current%20Site%22%2C%0A%20%20addCurrentSiteTip%3A%20%22Add/Remove%20current%20site%20from%20list%22%2C%0A%20%20alertMsg%3A%20%22is%20not%20a%20domain%22%2C%0A%20%20buttonIcon%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAADIklEQVR42q1UXUhTYRh+vv2cnf3oNreZPzvNnKSF0SJE1NrSjBCzi0SEddNNYDcFFd6XRBmEl+mVRZGFhkVdKJEeSxAvnKHODX8gcP7OTTeVHZ1uHQ8ons3LPjgcvvM9PO/5nvd9HlJWVvYoHo/XEEJw3JJIJMKbxwjPcWtvb6+POByOUbPZbOM3SQCpVIqtjQ1QNA21OgUUJUMkEsHOzo4I5/P5lkhNTQ1rtVodiST7fzjqciFVp4VemwajSQ+ZTMZ/l4DjtkXY6elpL3E6nazNZnMkVgkEAuhnB3DKnIGbpbnIzc2BRqXC7EIQU35xUbfb7SUNDQ2s3W53JGo0OelB59fvKDmTAWflOWQwFmRmZcM1PoV5TgdapTnEDgwMeEljYyNbVVWVdDWfbx7v2ppRWXQaeRYGBpMRel0qPDM+GAquQEopD7E9PT1e0tTUxNbX1ycRxWIxfHzzGtK1STDMSYFELlfg76If9toHoBT0Ibarq8tLWlpa2OrqagfDMHxXKBHZyvIynt6vRWFuNhRKGjG++0Rpwp3HL4Wx2Nd1bm4Ovb29XtLa2spWVFQIRDRNi4g63r/F8OdXSNUboeKJ/P4VlNc9xI06p3DOcZxANDg46CVtbW1seXm5iCgYXkP7lyFMjI4gc7Ebke1dpOhN4PQ2PHnWBCWtSiZKvNrCyipedPxCurkQVGoaJBMd4MY/YAdKyOzPoT+xibtXS0HzYouudlTs/QotncMw51/k5ycdhFIhtKtAgWQWmpgfnpAOGwoL6PUuVNoqxGIfbf/P/t9Y0hYjL+8kzCYtJHIV1iJxUHIprlnk6ObPOd15zP1pR11psbj9BwMZjUbx6Vs/rNfvwaBTwqTVQqZUI84Pqj8QwmVGjbEpD4IKK9xDnbh1IVM8kAcW2dzcRJ9rFiX1jZBij/dXCuQKXhepDMHQBs4a1QgGlzC9ReDubMalokKxRY6adswzC6bsNgxZOUjhjarR0CB8AqyHw1BHwpgZ+YH5GRfyrQyOWkowbWKMrAaCCEd2EZOoQGQKPoiiINEtqCkCo0EvREuynfgY+V/B9g8i1V/CIsX8UgAAAABJRU5ErkJggg%3D%3D%22%2C%0A%20%20buttonIconLabel%3A%20%22Button%20icon%22%2C%0A%20%20buttonIconTip%3A%20%22Change%20toolbarbutton-icon%20via%20filepicker%22%2C%0A%20%20dialogLeft%3A%20300%2C%0A%20%20dialogTop%3A%20300%2C%0A%20%20doneButtonLabel%3A%20%22Done%22%2C%0A%20%20doneButtonTip%3A%20%22Set%20useragent%20override%20for%20sites%20in%20lists%22%2C%0A%20%20editorButtonLabel%3A%20%22Editor%22%2C%0A%20%20editorButtonTip%3A%20%22Opens%20editor%20to%20edit%20useragent%20url%27s%22%2C%0A%20%20editorLabel1%3A%20%22useragent%20override%20url-1%22%2C%0A%20%20editorLabel2%3A%20%22useragent%20override%20url-2%22%2C%0A%20%20editorLeft%3A%20300%2C%0A%20%20editorTop%3A%20300%2C%0A%20%20prefsButtonLabel%3A%20%22about%3Aconfig%22%2C%0A%20%20prefsButtonTip%3A%20%22Open%20prefs%20in%20about%3Aconfig%20for%20editing%22%2C%0A%20%20siteListLabel%3A%20%22Site%20Domains%22%2C%0A%20%20siteListTextbox1%3A%20%22%22%2C%0A%20%20siteListTextbox2%3A%20%22%22%2C%0A%20%20url1%3A%20%22Mozilla/5.0%20%28Windows%20NT%2010.0%3B%20Win64%3B%20x64%3B%20rv%3A77.0%29%20Gecko/20100101%20Firefox/77.0%22%2C%0A%20%20url2%3A%20%22Mozilla/5.0%20%28Windows%20NT%2010.0%3B%20Win64%3B%20x64%3B%20rv%3A56.0%29%20Gecko/20100101%20Firefox/56.0%20Waterfox/56.3%22%0A%7D%0A%0Afor%20%28let%20key%20in%20pref.defaults%29%20%7B%0A%20%20if%20%28pref.defaults.hasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20let%20val%20%3D%20pref.defaults%5Bkey%5D%3B%0A%20%20%20%20switch%20%28typeof%20val%29%20%7B%0A%20%20%20%20%20%20case%20%22boolean%22%3A%0A%20%20%20%20%20%20%20%20pb.getDefaultBranch%28aRoot%29.setBoolPref%28key%2C%20val%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22number%22%3A%0A%20%20%20%20%20%20%20%20pb.getDefaultBranch%28aRoot%29.setIntPref%28key%2C%20val%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22string%22%3A%0A%20%20%20%20%20%20%20%20ss.data%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20pb.getDefaultBranch%28aRoot%29.setComplexValue%28%28key%29%2C%20Ci.nsISupportsString%2C%20ss%29%3B%0A%7D%20%7D%20%7D%0A%0Afunction%20pref%28key%29%20%7B%0A%20%20let%20%7Bbranch%2C%20defaults%7D%20%3D%20pref%3B%0A%20%20if%20%28branch%20%3D%3D%20null%29%20branch%20%3D%20pb.getBranch%28aRoot%29%3B%0A%20%20switch%20%28typeof%20defaults%5Bkey%5D%29%20%7B%0A%20%20%20%20case%20%22boolean%22%3A%0A%20%20%20%20%20%20return%20branch.getBoolPref%28key%29%3B%0A%20%20%20%20case%20%22number%22%3A%0A%20%20%20%20%20%20return%20branch.getIntPref%28key%29%3B%0A%20%20%20%20case%20%22string%22%3A%0A%20%20%20%20%20%20return%20branch.getCharPref%28key%29%3B%0A%20%20%7D%0A%20%20return%20null%3B%0A%7D%0A%0Afunction%20getSS%28filepath%29%20%7B%0A%20%20return%20ios.newURI%28%22data%3Atext/css%2C%22%20+%20filepath%2C%20null%2C%20null%29%3B%0A%7D%0A%0Afunction%20loadSheet%28filepath%29%20%7B%0A%20%20sss.loadAndRegisterSheet%28getSS%28filepath%29%2C%20sss.AGENT_SHEET%29%3B%0A%7D%0A%0Afunction%20unloadSheet%28filepath%29%20%7B%0A%20%20let%20uri%20%3D%20getSS%28filepath%29%3B%0A%20%20if%20%28sss.sheetRegistered%28uri%2C%20sss.AGENT_SHEET%29%29%20sss.unregisterSheet%28uri%2C%20sss.AGENT_SHEET%29%3B%0A%7D%0A%0Afunction%20gCV%28aKey%29%20%7B%0A%20%20return%20pb.getComplexValue%28aRoot%20+%20aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%7D%0A%0Afunction%20sCV%28aKey%2C%20aVal%29%20%7B%0A%20%20ss.data%20%3D%20aVal%3B%0A%20%20pb.setComplexValue%28aRoot%20+%20aKey%2C%20Ci.nsISupportsString%2C%20ss%29%3B%0A%7D%0A%0AloadSheet%28hTab%29%3B%0A%0Aif%20%28pref%28%22siteListTextbox1%22%29%29%20%7B%20%0A%20%20var%20siteList1%20%3D%20pref%28%22siteListTextbox1%22%29.split%28%22%2C%20%22%29%3B%0A%20%20for%20%28let%20x%20in%20siteList1%29%20gUser.setCharPref%28siteList1%5Bx%5D%2C%20pref%28%22url1%22%29%29%3B%0A%7D%0A%0Aif%20%28pref%28%22siteListTextbox2%22%29%29%20%7B%20%0A%20%20var%20siteList2%20%3D%20pref%28%22siteListTextbox2%22%29.split%28%22%2C%20%22%29%3B%0A%20%20for%20%28let%20y%20in%20siteList2%29%20gUser.setCharPref%28siteList2%5By%5D%2C%20pref%28%22url2%22%29%29%3B%0A%7D%0A%0Athis.image%20%3D%20pref%28%22buttonIcon%22%29%3B%0A%0Athis.onclick%20%3D%20function%28e%29%20%7B%0A%20%20if%20%28e.button%20%21%3D%3D%200%29%20return%3B%0A%20%20if%20%28wm%28%22useragent%3Adialog%22%29%29%20%7B%0A%20%20%20%20wm%28%22useragent%3Adialog%22%29.focus%28%29%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20let%20data%20%3D%20%27%3C%3Fxml%20version%3D%221.0%22%3F%3E%3C%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin/%22%20type%3D%22text/css%22%3F%3E%5C%0A%20%20%20%20%3Cwindow%20xmlns%3D%22%27%20+%20xulns%20+%20%27%22%20id%3D%22useragent-dialog%22%20windowtype%3D%22useragent%3Adialog%22%20persist%3D%22width%20height%22%20%5C%0A%20%20%20%20%20%20title%3D%22%27%20+%20self.label%20+%20%27%22%20onload%3D%22self.onDialogLoad%28this%29%22%20onclose%3D%22self.onDialogClose%28%29%22%3E%5C%0A%20%20%20%20%20%20%3Chbox%20id%3D%22siteContainer%22%20class%3D%22hbox%22%20align%3D%22center%22%3E%5C%0A%20%20%20%20%20%20%20%20%3Clabel%20id%3D%22siteListLabel%22%20class%3D%22label%22%20value%3D%22%27%20+%20gCV%28%22siteListLabel%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22addCurrentSite1%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22addCurrentSite%22%29%20+%20%27%22%20tooltiptext%3D%22%27%20+%20gCV%28%22addCurrentSiteTip%22%29%20+%20%27%22%20oncommand%3D%22self.onCurrent%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%3C/hbox%3E%5C%0A%20%20%20%20%20%20%3Clabel%20id%3D%22userAgentLabel1%22%20class%3D%22label%22%20value%3D%22%27%20+%20gCV%28%22url1%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22siteListTextbox1%22%20class%3D%22textbox%22%20multiline%3D%22true%22%20placeholder%3D%22%27%20+%20gCV%28%22siteListLabel%22%29%20+%20%27%22%20flex%3D%221%22%20onchange%3D%22self.onTextbox%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%3Chbox%20id%3D%22siteContainer2%22%20class%3D%22hbox%22%20align%3D%22center%22%3E%5C%0A%20%20%20%20%20%20%20%20%3Clabel%20id%3D%22siteListLabel2%22%20class%3D%22label%22%20value%3D%22%27%20+%20gCV%28%22siteListLabel%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22addCurrentSite2%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22addCurrentSite%22%29%20+%20%27%22%20tooltiptext%3D%22%27%20+%20gCV%28%22addCurrentSiteTip%22%29%20+%20%27%22%20oncommand%3D%22self.onCurrent%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%3C/hbox%3E%5C%0A%20%20%20%20%20%20%3Clabel%20id%3D%22userAgentLabel2%22%20class%3D%22label%22%20value%3D%22%27%20+%20gCV%28%22url2%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22siteListTextbox2%22%20class%3D%22textbox%22%20multiline%3D%22true%22%20placeholder%3D%22%27%20+%20gCV%28%22siteListLabel%22%29%20+%20%27%22%20flex%3D%221%22%20onchange%3D%22self.onTextbox%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%3Chbox%20id%3D%22buttonContainer%22%20class%3D%22hbox%22%20align%3D%22center%22%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22buttonIcon%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22buttonIconLabel%22%29%20+%20%27%22%20tooltiptext%3D%22%27%20+%20gCV%28%22buttonIconTip%22%29%20+%20%27%22%20oncommand%3D%22self.onIcon%28this%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cimage%20id%3D%22imageIcon%22%20class%3D%22image%22%20src%3D%22%27%20+%20pref%28%22buttonIcon%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cspacer%20id%3D%22buttonSpacer%22%20class%3D%22spacer%22%20flex%3D%221%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22editorButton%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22editorButtonLabel%22%29%20+%20%27%22%20tooltiptext%3D%22%27%20+%20gCV%28%22editorButtonTip%22%29%20+%20%27%22%20oncommand%3D%22self.onEditor%28%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22prefsButton%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22prefsButtonLabel%22%29%20+%20%27%22%20tooltiptext%3D%22%27%20+%20gCV%28%22prefsButtonTip%22%29%20+%20%27%22%20oncommand%3D%22self.onPrefs%28%29%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22doneButton%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22doneButtonLabel%22%29%20+%20%27%22%20tooltiptext%3D%22%27%20+%20gCV%28%22doneButtonTip%22%29%20+%20%27%22%20oncommand%3D%22self.onDone%28%29%22/%3E%5C%0A%20%20%20%20%20%20%3C/hbox%3E%5C%0A%20%20%20%20%3C/window%3E%27%3B%0A%20%20data%20%3D%20data.replace%28/self/g%2C%20%22opener.document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29%22%29%3B%0A%20%20let%20url%20%3D%20%22data%3Aapplication/vnd.mozilla.xul+xml%3Btext/plain%2C%22%20+%20encodeURIComponent%28data%29%3B%0A%20%20window.openDialog%28url%2C%20%22%22%2C%20%22chrome%2Cdialog%2Cresizable%2CalwaysRaised%22%29%3B%0A%7D%0A%0Athis.onCurrent%20%3D%20function%28e%29%20%7B%0A%20%20var%20dlg%20%3D%20wm%28%22useragent%3Adialog%22%29%2C%0A%20%20%20%20%20%20list%20%3D%20dlg.document.getElementById%28%22siteListTextbox%22%20+%20e.id.match%28/%5Cd/%29%29%2C%0A%20%20%20%20%20%20url%20%3D%20%22url%22%20+%20e.id.match%28/%5Cd/%29%2C%0A%20%20%20%20%20%20uri%20%3D%20gBrowser.contentDocument.documentURIObject%2C%20%0A%20%20%20%20%20%20eTLD%2C%0A%20%20%20%20%20%20et%20%3D%20Cc%5B%22@mozilla.org/network/effective-tld-service%3B1%22%5D.getService%28Ci.nsIEffectiveTLDService%29%3B%0A%20%20try%20%7B%20eTLD%20%3D%20et.getBaseDomain%28uri%29%20%7D%20catch%20%28ex%29%20%7B%20eTLD%20%3D%20uri.asciiHost%20%7D%0A%20%20if%20%28%21eTLD%29%20%7B%0A%20%20%20%20let%20as%20%3D%20Cc%5B%22@mozilla.org/alerts-service%3B1%22%5D.getService%28Ci.nsIAlertsService%29.showAlertNotification%2C%0A%20%20%20%20%20%20%20%20bar%20%3D%20gURLBar.value%3B%0A%20%20%20%20as%28this.image%2C%20this.label%20+%20%22%20Alert%22%2C%20bar%20+%20%22%20%22%20+%20gCV%28%22alertMsg%22%29%2C%20false%2C%20null%2C%20null%2C%20%22%22%29%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20if%20%28list.value.match%28eTLD%29%29%20%7B%0A%20%20%20%20list.value%20%3D%20list.value.replace%28eTLD%2C%20%22%22%29.replace%28/%5Cs+/g%2C%20%22%22%29.replace%28/%5E%2C+/%2C%20%22%22%29.replace%28/%2C+%24/g%2C%20%22%22%29.replace%28/%2C+/g%2C%20%22%2C%20%22%29%3B%0A%20%20%20%20gUser.clearUserPref%28eTLD%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20if%20%28list.value%29%20list.value%20%3D%20list.value%20+%20%22%2C%20%22%20+%20eTLD%3B%0A%20%20%20%20else%20list.value%20%3D%20list.value%20+%20eTLD%3B%0A%20%20%20%20gUser.setCharPref%28eTLD%2C%20url%29%3B%0A%20%20%7D%0A%20%20gRoot.setCharPref%28e.id%2C%20list.value%29%3B%0A%7D%0A%0Athis.onDestroy%20%3D%20function%28reason%29%20%7B%0A%20%20if%20%28reason%20%3D%3D%3D%20%22delete%22%29%20unloadSheet%28hTab%29%3B%0A%7D%0A%0Athis.onDialogClose%20%3D%20function%28%29%20%7B%0A%20%20let%20dlg%20%3D%20wm%28%22useragent%3Adialog%22%29%3B%0A%20%20gRoot.setIntPref%28%22dialogLeft%22%2C%20dlg.screenX%29%3B%0A%20%20gRoot.setIntPref%28%22dialogTop%22%2C%20dlg.screenY%29%3B%0A%20%20dlg.close%28%29%3B%0A%7D%0A%0Athis.onDialogLoad%20%3D%20function%28e%29%20%7B%0A%20%20let%20list1%20%3D%20e.document.getElementById%28%22siteListTextbox1%22%29%2C%0A%20%20%20%20%20%20list2%20%3D%20e.document.getElementById%28%22siteListTextbox2%22%29%3B%0A%20%20e.moveTo%28pref%28%22dialogLeft%22%29%2C%20pref%28%22dialogTop%22%29%29%3B%0A%20%20list1.value%20%3D%20pref%28%22siteListTextbox1%22%29%3B%0A%20%20list2.value%20%3D%20pref%28%22siteListTextbox2%22%29%3B%0A%7D%0A%0Athis.onDone%20%3D%20function%28%29%20%7B%0A%20%20let%20dlg%20%3D%20wm%28%22useragent%3Adialog%22%29%2C%0A%20%20%20%20%20%20list1%20%3D%20dlg.document.getElementById%28%22siteListTextbox1%22%29%2C%0A%20%20%20%20%20%20list2%20%3D%20dlg.document.getElementById%28%22siteListTextbox2%22%29%2C%0A%20%20%20%20%20%20aList1%20%3D%20list1.value.split%28%22%2C%20%22%29%2C%0A%20%20%20%20%20%20aList2%20%3D%20list2.value.split%28%22%2C%20%22%29%3B%0A%20%20gRoot.setCharPref%28%22siteListTextbox1%22%2C%20list1.value%29%3B%0A%20%20gRoot.setCharPref%28%22siteListTextbox2%22%2C%20list2.value%29%3B%0A%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20aList1.length%3B%20i++%29%20%7B%0A%20%20%20%20if%20%28%21aList1%5Bi%5D%29%20continue%3B%0A%20%20%20%20gUser.setCharPref%28aList1%5Bi%5D%2C%20pref%28%22url1%22%29%29%3B%0A%20%20%7D%0A%20%20for%20%28var%20j%20%3D%200%3B%20j%20%3C%20aList2.length%3B%20j++%29%20%7B%0A%20%20%20%20if%20%28%21aList2%5Bj%5D%29%20continue%3B%0A%20%20%20%20gUser.setCharPref%28aList2%5Bj%5D%2C%20pref%28%22url2%22%29%29%3B%0A%20%20%7D%0A%20%20dlg.close%28%29%3B%0A%7D%0A%0Athis.onEditor%20%3D%20function%28%29%20%7B%0A%20%20if%20%28wm%28%22editor%3Adialog%22%29%29%20%7B%0A%20%20%20%20wm%28%22useragent%3Adialog%22%29.focus%28%29%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20let%20data%20%3D%20%27%3C%3Fxml%20version%3D%221.0%22%3F%3E%3C%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin/%22%20type%3D%22text/css%22%3F%3E%5C%0A%20%20%20%20%3Cwindow%20xmlns%3D%22%27%20+%20xulns%20+%20%27%22%20id%3D%22editor-dialog%22%20windowtype%3D%22editor%3Adialog%22%20persist%3D%22width%20height%22%20%5C%0A%20%20%20%20%20%20title%3D%22%27%20+%20self.label%20+%20%27%20Editor%27%20+%20%27%22%20onload%3D%22self.onEditorLoad%28this%29%22%20onclose%3D%22self.onEditorClose%28this%29%22%3E%5C%0A%20%20%20%20%20%20%3Clabel%20id%3D%22editorLabel1%22%20class%3D%22label%22%20value%3D%22%27%20+%20gCV%28%22editorLabel1%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22editorTextbox1%22%20class%3D%22textbox%22%20flex%3D%221%22/%3E%5C%0A%20%20%20%20%20%20%3Clabel%20id%3D%22editorLabel2%22%20class%3D%22label%22%20value%3D%22%27%20+%20gCV%28%22editorLabel2%22%29%20+%20%27%22/%3E%5C%0A%20%20%20%20%20%20%3Ctextbox%20id%3D%22editorTextbox2%22%20class%3D%22textbox%22%20flex%3D%221%22/%3E%5C%0A%20%20%20%20%20%20%3Chbox%20id%3D%22buttonContainer%22%20class%3D%22hbox%22%20align%3D%22center%22%3E%5C%0A%20%20%20%20%20%20%20%20%3Cspacer%20id%3D%22editorSpacer%22%20class%3D%22spacer%22%20flex%3D%221%22/%3E%5C%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22doneButton%22%20class%3D%22button%22%20label%3D%22%27%20+%20gCV%28%22doneButtonLabel%22%29%20+%20%27%22%20oncommand%3D%22self.onEditorDone%28%29%22/%3E%5C%0A%20%20%20%20%20%20%3C/hbox%3E%5C%0A%20%20%20%20%3C/window%3E%27%3B%0A%20%20data%20%3D%20data.replace%28/self/g%2C%20%22opener.document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29%22%29%3B%0A%20%20let%20url%20%3D%20%22data%3Aapplication/vnd.mozilla.xul+xml%3Btext/plain%2C%22%20+%20encodeURIComponent%28data%29%3B%0A%20%20window.openDialog%28url%2C%20%22%22%2C%20%22chrome%2Cdialog%2Cresizable%2CalwaysRaised%22%29%3B%0A%7D%0A%0Athis.onEditorClose%20%3D%20function%28e%29%20%7B%0A%20%20//let%20dlg%20%3D%20wm%28%22editor%3Adialog%22%29%3B%0A%20%20gRoot.setIntPref%28%22editorLeft%22%2C%20e.screenX%29%3B%0A%20%20gRoot.setIntPref%28%22editorTop%22%2C%20e.screenY%29%3B%0A%20%20e.close%28%29%3B%0A%7D%0A%0Athis.onEditorLoad%20%3D%20function%28e%29%20%7B%0A%20%20let%20tb1%20%3D%20e.document.getElementById%28%22editorTextbox1%22%29%2C%0A%20%20%20%20%20%20tb2%20%3D%20e.document.getElementById%28%22editorTextbox2%22%29%3B%0A%20%20e.moveTo%28pref%28%22editorLeft%22%29%2C%20pref%28%22editorTop%22%29%29%3B%0A%20%20tb1.value%20%3D%20pref%28%22url1%22%29%3B%0A%20%20tb2.value%20%3D%20pref%28%22url2%22%29%3B%0A%7D%0A%0Athis.onEditorDone%20%3D%20function%28%29%20%7B%0A%20%20let%20dlg%20%3D%20wm%28%22useragent%3Adialog%22%29%2C%0A%20%20%20%20%20%20lab1%20%3D%20dlg.document.getElementById%28%22userAgentLabel1%22%29%2C%0A%20%20%20%20%20%20lab2%20%3D%20dlg.document.getElementById%28%22userAgentLabel2%22%29%2C%0A%20%20%20%20%20%20edt%20%3D%20wm%28%22editor%3Adialog%22%29%2C%0A%20%20%20%20%20%20tb1%20%3D%20edt.document.getElementById%28%22editorTextbox1%22%29%2C%0A%20%20%20%20%20%20tb2%20%3D%20edt.document.getElementById%28%22editorTextbox2%22%29%3B%0A%20%20gRoot.setIntPref%28%22editorLeft%22%2C%20edt.screenX%29%3B%0A%20%20gRoot.setIntPref%28%22editorTop%22%2C%20edt.screenY%29%3B%0A%20%20gRoot.setCharPref%28%22url1%22%2C%20tb1.value%29%3B%0A%20%20gRoot.setCharPref%28%22url2%22%2C%20tb2.value%29%3B%0A%20%20lab1.value%20%3D%20tb1.value%3B%0A%20%20lab2.value%20%3D%20tb2.value%3B%0A%20%20edt.close%28%29%3B%0A%7D%0A%0Athis.onEditorTextbox%20%3D%20function%28e%29%20%7B%0A%20%20//let%20edt%20%3D%20wm%28%22editor%3Adialog%22%29%3B%0A%7D%0A%0Athis.onIcon%20%3D%20function%28e%29%20%7B%0A%20%20let%20win%20%3D%20wm%28%22navigator%3Abrowser%22%29%2C%0A%20%20%20%20%20%20fp%20%3D%20Cc%5B%27@mozilla.org/filepicker%3B1%27%5D.createInstance%28Ci.nsIFilePicker%29%3B%0A%20%20fp.init%28window%2C%20null%2C%20fp.modeOpen%29%3B%0A%20%20fp.appendFilters%28fp.filterImages%29%3B%0A%20%20if%20%28fp.show%28%29%20%21%3D%20fp.returnCancel%29%20%7B%0A%20%20%20%20let%20url%20%3D%20fp.fileURL.spec%3B%0A%20%20%20%20gRoot.setCharPref%28%22buttonIcon%22%2C%20url%29%3B%0A%20%20%20%20win.document.getElementById%28self.id%29.image%20%3D%20url%3B%0A%20%20%20%20e.nextSibling.src%20%3D%20url%3B%0A%7D%20%7D%0A%0Athis.onPrefs%20%3D%20function%28%29%20%7B%0A%20%20let%20win%20%3D%20wm%28%22navigator%3Abrowser%22%29%2C%0A%20%20%20%20%20%20nodes%20%3D%20win.gBrowser.tabContainer.childNodes%2C%0A%20%20%20%20%20%20addTab%20%3D%20true%3B%0A%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20nodes.length%3B%20i++%29%20%7B%0A%20%20%20%20if%20%28nodes%5Bi%5D.linkedBrowser.currentURI.spec.match%28%22about%3Aconfig%22%29%29%20%7B%0A%20%20%20%20%20%20win.gBrowser.selectedTab%20%3D%20nodes%5Bi%5D%3B%0A%20%20%20%20%20%20addTab%20%3D%20false%3B%0A%20%20%7D%20%7D%0A%20%20if%20%28addTab%29%20openUILinkIn%28%22about%3Aconfig%22%2C%20%22tab%22%29%3B%0A%20%20setTimeout%28function%28%29%20%7B%0A%20%20%20%20win.content.document.activeElement.value%20%3D%20%22useragent.override.%22%3B%0A%20%20%20%20win.content.document.getElementById%28%22textbox%22%29.click%28%29%3B%0A%20%20%7D%2C%20250%29%3B%0A%7D%0A%0Athis.onTextbox%20%3D%20function%28e%29%20%7B%0A%20%20switch%20%28e.id%29%20%7B%0A%20%20%20%20case%20%22siteListTextbox1%22%3A%20case%20%22siteListTextbox2%22%3A%0A%20%20%20%20%20%20e.value%20%3D%20e.value.replace%28/%5Cs+/g%2C%20%22%22%29.replace%28/%5E%2C+/%2C%20%22%22%29.replace%28/%2C+%24/g%2C%20%22%22%29.replace%28/%2C+/g%2C%20%22%2C%20%22%29%3B%0A%7D%20%7D%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*%20CODE%20*/%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%23useragent-dialog%20%7B%0A%20%20min-height%3A%20222px%20%21important%3B%0A%20%20min-width%3A%20525px%20%21important%3B%0A%20%20padding%3A%204px%20%21important%3B%0A%7D%0A%0A%23editor-dialog%20%7B%0A%20%20min-height%3A%20159px%20%21important%3B%0A%20%20min-width%3A%20525px%20%21important%3B%0A%20%20padding%3A%204px%20%21important%3B%0A%7D%0A%0A%23useragent-dialog%20%23imageIcon.image%20%7B%0A%20%20max-height%3A%2032px%20%21important%3B%0A%20%20max-width%3A%2032px%20%21important%3B%0A%7D%0A%0A%0A%23useragent-dialog%20.textbox%20%7B%0A%20%20margin-bottom%3A%2016px%20%21important%3B%0A%7D%0A%0A%23editor-dialog%20.textbox%20%7B%0A%20%20margin-bottom%3A%2016px%20%21important%3B%0A%7D%0A%5D%5D%3E%3C/help%3E%0A%20%20%3CCSS%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS%3E%0A%20%20%3CxCSS%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS%3E%0A%20%20%3CCSS2%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS2%3E%0A%20%20%3CxCSS2%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS2%3E%0A%20%20%3CCSS3%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS3%3E%0A%20%20%3CxCSS3%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS3%3E%0A%20%20%3CCSS4%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS4%3E%0A%20%20%3CxCSS4%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS4%3E%0A%20%20%3CCSS5%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS5%3E%0A%20%20%3CxCSS5%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS5%3E%0A%20%20%3CHTML%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/HTML%3E%0A%20%20%3CxHTML%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xHTML%3E%0A%20%20%3Cnotes%3E%3C%21%5BCDATA%5B/*%20Notes%20*/%5D%5D%3E%3C/notes%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E
