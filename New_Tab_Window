custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3ENew%20Tab/Window%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%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%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B%22use%20strict%22%3B%0A%0Aconst%20aRoot%20%3D%20%22custombuttons.New_Tab_Window.%22%2C%0A%20%20%20%20%20%20fp%20%3D%20Cc%5B%22@mozilla.org/filepicker%3B1%22%5D.createInstance%28Ci.nsIFilePicker%29%2C%0A%20%20%20%20%20%20ios%20%3D%20Cc%5B%22@mozilla.org/network/io-service%3B1%22%5D.getService%28Ci.nsIIOService%29%2C%0A%20%20%20%20%20%20pb%20%3D%20Cc%5B%22@mozilla.org/preferences-service%3B1%22%5D.getService%28Ci.nsIPrefService%29.QueryInterface%28Ci.nsIPrefBranch%29%2C%0A%20%20%20%20%20%20ss%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%2C%0A%20%20%20%20%20%20sss%20%3D%20Cc%5B%22@mozilla.org/content/style-sheet-service%3B1%22%5D.getService%28Ci.nsIStyleSheetService%29%2C%0A%20%20%20%20%20%20wm%20%3D%20Cc%5B%22@mozilla.org/appshell/window-mediator%3B1%22%5D.getService%28Ci.nsIWindowMediator%29.getMostRecentWindow%2C%0A%20%20%20%20%20%20helpTab%20%3D%20encodeURIComponent%28this.Help%29%2C%0A%20%20%20%20%20%20homePage%20%3D%20pb.getCharPref%28%22browser.startup.homepage%22%29%2C%0A%20%20%20%20%20%20gRoot%20%3D%20pb.getBranch%28aRoot%29%3B%0A%0Apref.defaults%20%3D%20%7B%0A%20%20aboutConfig%3A%20%22about%3Aconfig%22%2C%0A%20%20blankNewTab%3A%20%22Blank%20New%20Tab%22%2C%0A%20%20buttonIcon%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAC4jAAAuIwF4pT92AAADIklEQVR42pWUWSitURTHN8WbPPBMeZKZkCkZXpQM8WBOKA+GknlIhkNKCA9eTLmKeCVliD5TQqjrnm7OMVxlKOXFeO/dX/+71r6d00Fu3VO/1tnD2nutvf7rE2FhYbWRkZEasco2PDz8UyIiIt6jfIKCgtpEXFzcfl5eHjIzM5GdnW0lKyvrA7zHFp7Lz89HVFTUD5GcnLxaUVEhS0pKfpaVlcnS0lLJtrKyUlZVVf0T2vuL9yUkJHwVOTk5Wnd3N9rb22VHRwcs2Eb5WWQtLS16b28vMjIyvoni4mJtamoKw8PDcnR0FGNjY2Dr5uYGIQTs7OyUfY+TkxP6+/v12dlZ0BlGQSFq6+vrmJ+flwRbzM3NwcfHB/Hx8UhLS0NKSoqV9PR0JCUlwcPDA9PT0/rW1hZqa2uNorW1VTOZTNjb25NmsxkXFxc4PT1FYGAg1tbWcH9/j+vra9zc3Ch7dnYGdvby8sLKyorOY3oKo+jp6dEeHh5weXkpKT1wzoODgwgICEBDQ4P6z3O0T8GXHhwcqIiPjo70l5cXDAwMGMXQ0JAG+j09PUnSg8rfwcEBzs7OcHR0hL29vRVXV1ewo5QSwcHBHL3OviMjI28PiomJQVFREdra2lBXV4fGxkY0NTUpeOzv74/m5mY1dnd3f3sQp/b4+IirqysZGhqKjY0NXgPPPT8/K15fX3F7ews/Pz8uNQoLC9XBJycnOq+r1Oh2jR+Z8pX8wOPj4zg+PsbOzg52d3cVVAj18N7e3tjf38fd3R3Oz8/5rXQujMFgMIrq6mqNo1hcXJS+vr5KQ4eHhyoyrg6zvb2N5eVleHp6YmJiAktLS0omCwsL+ubmJmpqaoxKkKQHjkRy3tQ3Vq1Q+1hJTEyEi4sL+vr6MDk5aRGuPjMz81eQJHWNy0pakKmpqaBuVofZYpmjngLpDl1dXejs7OSUdD6Y3s0o6KY1ajydG5DS1Ovr6z9AelKWUtDLy8utkM9v9qELjkVsbOxuQUEBqHkVtp8SxjJvWcvNzbXCc1zB6Ojoc0HaMFDZTSEhId+Jk/+BRPmdPoxm6rsvfwBxCfODuPvTOwAAAABJRU5ErkJggg%3D%3D%22%2C%0A%20%20currentTab%3A%20%22Current%20Tab%22%2C%0A%20%20fromFile%3A%20%22From%20File%22%2C%0A%20%20homepage%3A%20%22Homepage%22%2C%0A%20%20inNewWindow%3A%20%22In%20New%20Window%22%2C%0A%20%20inThisWindow%3A%20%22In%20This%20Window%22%2C%0A%20%20msg1%3A%20%22No%20Tabs%20selected%20to%20move%5Cn%5Cu2022%20Select%20by%20Shift%20or%20Ctrl%20or%20Alt%20+%20Left-click%20or%20Middle-click%20on%5Cn%20%20%20toolbar%20button%20to%20insert/remove%20%28*%29%20into%20current%20tab%20label.%5Cn%5Cu2022%20Click%20OK%20to%20open%20New%20Window%20with%20blank%20tab%20or%20Cancel.%22%2C%0A%20%20msg2%3A%20%22Shift%20or%20Ctrl%20or%20Alt%20+%20Left-click%20or%20Middle-click%20to%20insert%20%28*%29%20into%20tab%20label%20for%20merging%22%2C%0A%20%20removeMergedTabs%3A%20true%2C%0A%20%20tabsToNewWindow%3A%20%22Tabs%20To%20New%20Window%22%2C%0A%20%20useCSS%3A%20false%0A%7D%0A%0Afor%20%28let%20key%20in%20pref.defaults%29%20%7B%0A%20%20if%20%28pref.defaults.hasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20let%20val%20%3D%20pref.defaults%5Bkey%5D%3B%0A%20%20%20%20switch%20%28typeof%20val%29%20%7B%0A%20%20%20%20%20%20case%20%22boolean%22%3A%0A%20%20%20%20%20%20%20%20pb.getDefaultBranch%28aRoot%29.setBoolPref%28key%2C%20val%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22number%22%3A%0A%20%20%20%20%20%20%20%20pb.getDefaultBranch%28aRoot%29.setIntPref%28key%2C%20val%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22string%22%3A%0A%20%20%20%20%20%20%20%20ss.data%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20pb.getDefaultBranch%28aRoot%29.setComplexValue%28%28key%29%2C%20Ci.nsISupportsString%2C%20ss%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%7D%20%7D%20%7D%0A%0Apref.observe%20%3D%20function%28prefs%2C%20callback%29%20%7B%0A%20%20function%20observe%28subject%2C%20topic%2C%20data%29%20%7B%0A%20%20%20%20if%20%28topic%20%21%3D%3D%20%22nsPref%3Achanged%22%29%20return%3B%0A%20%20%20%20let%20pref%20%3D%20data.slice%28aRoot.length%29%3B%0A%20%20%20%20if%20%28prefs.indexOf%28pref%29%20%3D%3D%3D%20-1%29%20return%3B%0A%20%20%20%20callback%28pref%29%3B%0A%20%20%7D%0A%20%20pb.addObserver%28aRoot%2C%20observe%2C%20false%29%3B%0A%20%20unload%20%3D%3E%20pb.removeObserver%28aRoot%2C%20observe%29%3B%0A%7D%0A%0Afunction%20pref%28key%29%20%7B%0A%20%20let%20%7Bbranch%2C%20defaults%7D%20%3D%20pref%3B%0A%20%20if%20%28branch%20%3D%3D%20null%29%20branch%20%3D%20pb.getBranch%28aRoot%29%3B%0A%20%20switch%20%28typeof%20defaults%5Bkey%5D%29%20%7B%0A%20%20%20%20case%20%22boolean%22%3A%20return%20branch.getBoolPref%28key%29%3B%0A%20%20%20%20case%20%22number%22%3A%20return%20branch.getIntPref%28key%29%3B%0A%20%20%20%20case%20%22string%22%3A%20return%20branch.getComplexValue%28key%2C%20Ci.nsISupportsString%29.data%3B%0A%20%20%7D%0A%20%20return%20null%3B%0A%7D%0A%0Afunction%20getSS%28filepath%29%20%7B%20return%20ios.newURI%28%22data%3Atext/css%2C%22%20+%20filepath%2C%20null%2C%20null%29%20%7D%0A%0Afunction%20loadSheet%28filepath%29%20%7B%20sss.loadAndRegisterSheet%28getSS%28filepath%29%2C%20sss.AGENT_SHEET%29%20%7D%0A%0Afunction%20unloadSheet%28filepath%29%20%7B%0A%20%20let%20path%20%3D%20getSS%28filepath%29%3B%0A%20%20if%20%28sss.sheetRegistered%28path%2C%20sss.AGENT_SHEET%29%29%20sss.unregisterSheet%28path%2C%20sss.AGENT_SHEET%29%3B%0A%7D%0A%0Afunction%20loadAndObserve%28prefName%2C%20filepath%29%20%7B%0A%20%20if%20%28pref%28prefName%29%29%20loadSheet%28filepath%29%3B%0A%20%20pref.observe%28%5BprefName%5D%2C%20function%28%29%20%7B%20pref%28prefName%29%20%3F%20loadSheet%28filepath%29%20%3A%20unloadSheet%28filepath%29%20%7D%29%3B%0A%20%20unload%20%3D%3E%20unloadSheet%28filepath%29%3B%0A%7D%0A%0Afunction%20unload%28callback%2C%20container%29%20%7B%0A%20%20let%20unloaders%20%3D%20unload.unloaders%3B%0A%20%20if%20%28unloaders%20%3D%3D%20null%29%20unloaders%20%3D%20unload.unloaders%20%3D%20%5B%5D%3B%0A%20%20if%20%28callback%20%3D%3D%20null%29%20%7B%0A%20%20%20%20unloaders.slice%28%29.forEach%28unloader%20%3D%3E%20unloader%28%29%29%3B%0A%20%20%20%20unloaders.length%20%3D%200%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20if%20%28container%20%21%3D%20null%29%20%7B%0A%20%20%20%20container.addEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%20%20%20%20let%20origCallback%20%3D%20callback%3B%0A%20%20%20%20callback%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20container.removeEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%20%20%20%20%20%20origCallback%28%29%3B%0A%20%20%7D%20%7D%0A%20%20function%20unloader%28%29%20%7B%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20callback%28%29%3B%0A%20%20%20%20%7D%20catch%28ex%29%20%7B%7D%0A%20%20%7D%0A%20%20unloaders.push%28unloader%29%3B%0A%20%20function%20removeUnloader%28%29%20%7B%0A%20%20%20%20let%20index%20%3D%20unloaders.indexOf%28unloader%29%3B%0A%20%20%20%20if%20%28index%20%21%3D%3D%20-1%29%20unloaders.splice%28index%2C%201%29%3B%0A%20%20%7D%0A%20%20return%20removeUnloader%3B%0A%7D%0A%0Afunction%20gCV%28aKey%29%20%7B%0A%20%20return%20pb.getComplexValue%28aRoot%20+%20aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%7D%0A%0Afunction%20sCV%28aKey%2C%20aVal%29%20%7B%0A%20%20ss.data%20%3D%20aVal%3B%0A%20%20pb.setComplexValue%28aRoot%20+%20aKey%2C%20Ci.nsISupportsString%2C%20ss%29%3B%0A%7D%0A%0Afunction%20createElement%28type%2C%20attrArray%29%20%7B%0A%20%20let%20node%20%3D%20document.createElement%28type%29%3B%0A%20%20for%20%28let%20attr%20in%20attrArray%29%20if%20%28attrArray.hasOwnProperty%28attr%29%29%20node.setAttribute%28attr%2C%20attrArray%5Battr%5D%29%3B%0A%20%20return%20node%3B%0A%7D%0A%0AloadAndObserve%28%22useCSS%22%2C%20helpTab%29%3B%0A%0Avar%20mPopup%20%3D%20createElement%28%22menupopup%22%2C%20%7Bid%3A%20%22New-Tab-Window-Popup%22%7D%29%2C%0A%20%20%20%20currentMenu%20%3D%20createElement%28%22menu%22%2C%20%7Bid%3A%20%22currentMenu%22%2C%20class%3A%20%22menu-iconic%22%2C%20label%3A%20gCV%28%22currentTab%22%29%7D%29%2C%0A%20%20%20%20currentMenuPopup%20%3D%20createElement%28%22menupopup%22%2C%20%7Bid%3A%20%22currentMenupopup%22%2C%20class%3A%20%22popup%22%7D%29%2C%0A%20%20%20%20currentMenuItem1%20%3D%20createElement%28%22menuitem%22%2C%20%7Bid%3A%20%22currentMenuitem1%22%2C%20class%3A%20%22menuitem-iconic%22%2C%20label%3A%20gCV%28%22inThisWindow%22%29%7D%29%2C%0A%20%20%20%20currentMenuItem2%20%3D%20createElement%28%22menuitem%22%2C%20%7Bid%3A%20%22currentMenuitem2%22%2C%20class%3A%20%22menuitem-iconic%22%2C%20label%3A%20gCV%28%22inNewWindow%22%29%7D%29%2C%0A%20%20%20%20homeMenu%20%3D%20createElement%28%22menu%22%2C%20%7Bid%3A%20%22homeMenu%22%2C%20class%3A%20%22menu-iconic%22%2C%20label%3A%20gCV%28%22homepage%22%29%7D%29%2C%0A%20%20%20%20homeMenuPopup%20%3D%20createElement%28%22menupopup%22%2C%20%7Bid%3A%20%22homeMenuPopup%22%2C%20class%3A%20%22popup%22%7D%29%2C%0A%20%20%20%20homeMenuItem1%20%3D%20createElement%28%22menuitem%22%2C%20%7Bid%3A%20%22homeMenuitem1%22%2C%20class%3A%20%22menuitem-iconic%22%2C%20label%3A%20gCV%28%22inThisWindow%22%29%7D%29%2C%0A%20%20%20%20homeMenuItem2%20%3D%20createElement%28%22menuitem%22%2C%20%7Bid%3A%20%22homeMenuitem2%22%2C%20class%3A%20%22menuitem-iconic%22%2C%20label%3A%20gCV%28%22inNewWindow%22%29%7D%29%2C%0A%20%20%20%20blankMenu%20%3D%20createElement%28%22menu%22%2C%20%7Bid%3A%20%22blankMenu%22%2C%20class%3A%20%22menu-iconic%22%2C%20label%3A%20gCV%28%22blankNewTab%22%29%7D%29%2C%0A%20%20%20%20blankMenuPopup%20%3D%20createElement%28%22menupopup%22%2C%20%7Bid%3A%20%22blankMenuPopup%22%2C%20class%3A%20%22popup%22%7D%29%2C%0A%20%20%20%20blankMenuItem1%20%3D%20createElement%28%22menuitem%22%2C%20%7Bid%3A%20%22blankMenuitem1%22%2C%20class%3A%20%22menuitem-iconic%22%2C%20label%3A%20gCV%28%22inThisWindow%22%29%7D%29%2C%0A%20%20%20%20blankMenuItem2%20%3D%20createElement%28%22menuitem%22%2C%20%7Bid%3A%20%22blankMenuitem2%22%2C%20class%3A%20%22menuitem-iconic%22%2C%20label%3A%20gCV%28%22inNewWindow%22%29%7D%29%2C%0A%20%20%20%20fileMenu%20%3D%20createElement%28%22menu%22%2C%20%7Bid%3A%20%22fileMenu%22%2C%20class%3A%20%22menu-iconic%22%2C%20label%3A%20gCV%28%22fromFile%22%29%7D%29%2C%0A%20%20%20%20fileMenuPopup%20%3D%20createElement%28%22menupopup%22%2C%20%7Bid%3A%20%22fileMenuPopup%22%2C%20class%3A%20%22popup%22%7D%29%2C%0A%20%20%20%20fileMenuItem1%20%3D%20createElement%28%22menuitem%22%2C%20%7Bid%3A%20%22fileMenuitem1%22%2C%20class%3A%20%22menuitem-iconic%22%2C%20label%3A%20gCV%28%22inThisWindow%22%29%7D%29%2C%0A%20%20%20%20fileMenuItem2%20%3D%20createElement%28%22menuitem%22%2C%20%7Bid%3A%20%22fileMenuitem2%22%2C%20class%3A%20%22menuitem-iconic%22%2C%20label%3A%20gCV%28%22inNewWindow%22%29%7D%29%2C%0A%20%20%20%20tabsMenu%20%3D%20createElement%28%22menuitem%22%2C%20%7Bid%3A%20%22tabsMenuitem%22%2C%20class%3A%20%22menuitem-iconic%22%2C%20label%3A%20gCV%28%22tabsToNewWindow%22%29%7D%29%2C%0A%20%20%20%20prefsMenuitem%20%3D%20createElement%28%22menuitem%22%2C%20%7Bid%3A%20%22prefsMenuitem%22%2C%20class%3A%20%22menuitem-iconic%22%2C%20label%3A%20gCV%28%22aboutConfig%22%29%7D%29%3B%0A%0AcurrentMenuPopup.appendChild%28currentMenuItem1%29%3B%0AcurrentMenuPopup.appendChild%28currentMenuItem2%29%3B%0AhomeMenuPopup.appendChild%28homeMenuItem1%29%3B%0AhomeMenuPopup.appendChild%28homeMenuItem2%29%3B%0AblankMenuPopup.appendChild%28blankMenuItem1%29%3B%0AblankMenuPopup.appendChild%28blankMenuItem2%29%3B%0AfileMenuPopup.appendChild%28fileMenuItem1%29%3B%0AfileMenuPopup.appendChild%28fileMenuItem2%29%3B%0AcurrentMenu.appendChild%28currentMenuPopup%29%3B%0AhomeMenu.appendChild%28homeMenuPopup%29%3B%0AblankMenu.appendChild%28blankMenuPopup%29%3B%0AfileMenu.appendChild%28fileMenuPopup%29%3B%0AmPopup.appendChild%28currentMenu%29%3B%0AmPopup.appendChild%28homeMenu%29%3B%0AmPopup.appendChild%28blankMenu%29%3B%0AmPopup.appendChild%28fileMenu%29%3B%0AmPopup.appendChild%28tabsMenu%29%3B%0AmPopup.appendChild%28prefsMenuitem%29%3B%0A%0AmPopup.onclick%20%3D%20function%28e%29%20%7B%0A%20%20switch%20%28e.target.id%29%20%7B%0A%20%20%20%20case%20%22currentMenuitem1%22%3A%0A%20%20%20%20%20%20openUILinkIn%28gURLBar.value%2C%20%22tab%22%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22currentMenuitem2%22%3A%0A%20%20%20%20%20%20window.open%28gURLBar.value%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22homeMenuitem1%22%3A%0A%20%20%20%20%20%20openUILinkIn%28homePage%2C%20%22tab%22%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22homeMenuitem2%22%3A%0A%20%20%20%20%20%20window.open%28homePage%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22fileMenuitem1%22%3A%0A%20%20%20%20%20%20fp.appendFilters%28fp.filterAll%20%7C%20fp.filterText%20%7C%20fp.filterImages%20%7C%20fp.filterXML%20%7C%20fp.filterHTML%29%3B%0A%20%20%20%20%20%20fp.init%28window%2C%20gNavigatorBundle.getString%28%22openFile%22%29%2C%20fp.modeOpen%29%3B%0A%20%20%20%20%20%20if%20%28fp.show%28%29%20%3D%3D%20fp.returnOK%29%20openUILinkIn%28fp.fileURL.spec%2C%20%22tab%22%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22fileMenuitem2%22%3A%0A%20%20%20%20%20%20fp.appendFilters%28fp.filterAll%20%7C%20fp.filterText%20%7C%20fp.filterImages%20%7C%20fp.filterXML%20%7C%20fp.filterHTML%29%3B%0A%20%20%20%20%20%20fp.init%28window%2C%20gNavigatorBundle.getString%28%22openFile%22%29%2C%20fp.modeOpen%29%3B%0A%20%20%20%20%20%20if%20%28fp.show%28%29%20%3D%3D%20fp.returnOK%29%20window.open%28fp.fileURL.spec%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22blankMenuitem1%22%3A%0A%20%20%20%20%20%20openUILinkIn%28%22about%3Ablank%22%2C%20%22tab%22%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22blankMenuitem2%22%3A%0A%20%20%20%20%20%20window.open%28%22about%3Ablank%22%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22tabsMenuitem%22%3A%0A%20%20%20%20%20%20let%20tabs%20%3D%20gBrowser.tabContainer.childNodes%2C%0A%20%20%20%20%20%20%20%20%20%20ret%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20tabs.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28tabs%5Bi%5D.label.match%28/%5E%5C%28%5C*%5C%29/%29%29%20ret.push%28tabs%5Bi%5D.linkedBrowser.contentDocument.location.href%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28ret.length%20%3C%201%29%20%7B%0A%20%20%20%20%20%20%20%20let%20box%20%3D%20confirm%28gCV%28%22msg1%22%29%29%3B%0A%20%20%20%20%20%20%20%20if%20%28box%20%21%3D%3D%20true%29%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28pref%28%22removeMergedTabs%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20for%20each%20%28let%20x%20in%20ret%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20for%20%28let%20j%20%3D%200%3B%20j%20%3C%20tabs.length%3B%20j++%29%20if%20%28tabs%5Bj%5D.label.match%28/%5E%5C%28%5C*%5C%29/%29%29%20gBrowser.removeTab%28tabs%5Bj%5D%29%3B%0A%20%20%20%20%20%20%7D%20%7D%0A%20%20%20%20%20%20window.open%28ret%5B0%5D%29%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%201%3B%20i%20%3C%20ret.length%3B%20i++%29%20openURL%28ret%5Bi%5D%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22prefsMenuitem%22%3A%0A%20%20%20%20%20%20let%20nodes%20%3D%20gBrowser.tabContainer.childNodes%2C%0A%20%20%20%20%20%20%20%20%20%20addTab%20%3D%20true%3B%0A%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20nodes.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28nodes%5Bi%5D.linkedBrowser.currentURI.spec.match%28%22about%3Aconfig%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20gBrowser.selectedTab%20%3D%20nodes%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20addTab%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%20%7D%0A%20%20%20%20%20%20if%20%28addTab%29%20openUILinkIn%28%22about%3Aconfig%22%2C%20%22tab%22%29%3B%0A%20%20%20%20%20%20setTimeout%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20content.document.activeElement.value%20%3D%20aRoot%3B%0A%20%20%20%20%20%20%20%20content.document.getElementById%28%22textbox%22%29.click%28%29%3B%0A%20%20%20%20%20%20%7D%2C%20250%29%3B%0A%7D%20%7D%0A%0Athis.appendChild%28mPopup%29%3B%0Athis.image%20%3D%20pref%28%22buttonIcon%22%29%3B%0Athis.tooltipText%20%3D%20this.label%20+%20%22%5Cn%20%5Cu2022%20%22%20+%20gCV%28%22msg2%22%29%3B%0Athis.type%20%3D%20%22menu%22%3B%0A%0Athis.onclick%20%3D%20function%28e%29%20%7B%0A%20%20if%20%28e.shiftKey%20%7C%7C%20e.ctrlKey%20%7C%7C%20e.altKey%20%26%26%20e.button%20%3D%3D%3D%200%20%7C%7C%20e.button%20%3D%3D%3D%201%29%20%7B%0A%20%20%20%20mPopup.hidePopup%28%29%3B%0A%20%20%20%20if%20%28gBrowser.selectedTab.label.match%28/%5E%5C%28%5C*%5C%29/%29%29%20%7B%0A%20%20%20%20%20%20gBrowser.selectedTab.label%20%3D%20gBrowser.selectedTab.label.split%28%22%28*%29%20%22%29%5B1%5D%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20gBrowser.selectedTab.label%20%3D%20%22%28*%29%20%22%20+%20gBrowser.selectedTab.label%3B%0A%20%20%20%20%20%20return%3B%0A%7D%20%7D%20%7D%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*%20CODE%20*/%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%23New-Tab-Window-Popup%20%3E%20%23currentMenu%20%7B%0A%20%20list-style-image%3A%20url%28data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABbElEQVR42mMsm77lPwMZoCvThxFEM4IMqIl3I0lzy8JdcEMoMgCnC4ymP9AGUvVA7AMV2gLEjecyFa6iG4RhQNiGPoYHb5QYyux+MYSohTGcffmZYec1RoaNt64zyIsfZlgVUITbAJDNrEyvr55MN2V4/+cIw6FnGxkat2YzCLFvZ6h05WFo3S/J8OGrijbMJdgMWJVkLBUWbXQKrHnyHiWGdz89GQzVoxmUBdQZvv3iZ9h2Pn8V0IAwXAZ86/IS4Try6ACYv+mKDpgOMW9iuPvhJtiQNSfrvgEN4MJpwOwgYa6O9c8Y7v5nh/uVTygITLupGhA0YFWV86mwW192MOy7YAp2Pgjc2XcJTIen7mY4e7cYrxe0WVgvXN2ZIMJQcqic4e7r7wzn1jSA5QoC9Bk2vv7JwMzOhjsQYdH46pMKg43afoYP394wvLxVw/AHKH7vByODvbIIwyRfIfzpgOKERGqSpo4BZOmGAgAZ7OeRtg9SkgAAAABJRU5ErkJggg%3D%3D%29%20%21important%3B%0A%7D%0A%0A%23New-Tab-Window-Popup%20%3E%20%23homeMenu%20%7B%0A%20%20list-style-image%3A%20url%28data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACO0lEQVR42rWTX2hSYRjGn28qm4sycASuTadGBrXoLiiyGdrmXV2UQvbXQBd0VRddVRctQncRRNqCMWrSbF0kFGqxSla0RrsICqrJnO5PITSYsZl1ztlp3yfHOsPqqufqPe/7fr/zvs93DsEflEgmxa2JMJJ5gsZjfjg7Oki1vqrJyMA1cddYL4v5yAxGdTrUnDsPt/sA+ScgGAiIB/N3wLcYsGZ8CF8H1Sz/Uieg6L8Mn7+TVAXQkVsfxSFmb2HJZGS5+h/pCkDSsyMenAxeJTIAPWwJXUfd9FMILUrUNfGsyL0AhLccFK0quT8WB7zRGKkA6NjukS5ZkyLLo+TrW6bMQrzUBXXjN1n9ga+brcMAuTPbRDouVWlGCU6wovZmP7TaepbLTUxAedgDNf+BTSip+X6BkOn9GlHauTbDo7jHi6LZhDeFKVg36curTE2Ct7RjVU+YeSQzkb6dBkregIXOKzCYzbh7SIsnaYJFox1Osx6r3/Vh8+nb2OBw4lNvDIj3Q6UYZmYzgGLJioZAd4U6Gw9hOJ2DmpvEYr4GNqMeSqsN67Y4WX1s5DU+hoKwr8+CRKP3xML8Fxz1emWj0b25zDiLVaaNbLK5uWKl/jA2AM3ahvIt9NwIiysBEdf2ZU+yZYBrN/adHawAFuY/I5VK/bqFlQDamDhlQ7uYYc9DO09gr+cCO0j1Xigh//zV3wF8sI19iexa246j1nXxPwIkyO8e2LkkNGIK34VmPBYcUDftADVbkvRT/QTLHRViBa1gngAAAABJRU5ErkJggg%3D%3D%29%20%21important%3B%0A%7D%0A%0A%23New-Tab-Window-Popup%20%3E%20%23blankMenu%20%7B%0A%20%20list-style-image%3A%20url%28data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/0lEQVR42mNkAIKNRy/+VxCSZuBgfM2ADm68/cXw78sfMJvj/2sGTw8PRmR5MOfmjev/5ZWVGXCBh3fvMvz4L8rw5+ldhld/3qMYQpQBN+98YlBX4QOzd566zuBvrU+aAdv3XWaQY/7D8ISTg0H47xeGs5deMYiL/GGIiAhlJMoAkK2wcPj5/h7DF0YFhvMnjzBM7SskzgAQePv2G8Ob938YHrx7yqAhzMYwbcYshokT+okzAKYZHBPAmAIF6KzZiwm7AKQRGcAMAQGyDIAZIiLIwtDWNZ88A2Bg1AAiDcAGQIYKC3MxFJdPRRhw5NDR/8dPHCXKABh48uw5OCUCAPv0xhFYj3RAAAAAAElFTkSuQmCC%29%20%21important%3B%0A%7D%0A%0A%23New-Tab-Window-Popup%20%3E%20%23fileMenu%20%7B%0A%20%20list-style-image%3A%20url%28data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACZUlEQVR42o2SX0hTURzHv2dO58zWYPjU0shZCVqSWREMNwqcEeVkIeGewpcgCA2T3noIKkYPUfpSCwoihNCn0nqoDBulrNLMQbqru8xh0/lnTrN2t5PnXO7NZYS/l3Pu79zv5/c9v/Mj2ER0v/BTtjprKsnfZ2QzYjGYwsCSDq4KaQPkv4D7nYN0OUZhs++Sv3ve407LyUxA480hathG1cT3tWpdnkpyu2OAbjER1FaXwGTKQyy2gp6+Mf5PU0OVCiHOG4vU3aTHzxmJJ/o+p5AQBVw+tR17LAaeY2IWs/MS2h/2w2nLRa3DQVQH3pZSPFsEpj8sQZcQ4K7frzpSxArgzWsBX8UIh2QAvC+XYDaGUXOo9J/9aPaO8utRkwUjoXGU5wMacSIT4BsJ42iZWRUNx3P4OvPxG74kgCMVFvWs91UICAb/AM7e+sEP6uxyfxKzSRWyEk8jz6BBNJRGIJqF6QkK4gvA7oqA1Lf6aWNbOa56AuhtLuIi1vWucQnvJiniooTEPFRhSgxAG5ZduNuisgPjPgsiQxKeXNJzYTIuwSeQjIrrhSy0O6ZwvdUsAzTGnTheQZBfnIu3QhqrwSS3rVSOjQawOiPPigI5ZhPxtNNFSMl5Py0rsuDM6WzoCrR8HpgD1gN2/+inFBf0h0ScSK7i+cpaj2bDsB4m6GqvI6TAMUgdzt24d06f8Wzrh4fF5NwU0gl5//jBBKzWLFy84CRka+UAvduxFw0Hcje8PYMoAEEMybmFNK54wnh0Tc+nkRQc7KbGqkI+GCzYeyuxMJeNHGkMv5YLuW0lqotT/P5s/xsBNDO8NP4emQAAAABJRU5ErkJggg%3D%3D%29%20%21important%3B%0A%7D%0A%0A%23New-Tab-Window-Popup%20%3E%20%23tabsMenuitem%20%7B%0A%20%20list-style-image%3A%20url%28data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA20lEQVR42mNkoBAwInNsNfj/H77xEUMcCfzn17Bl+HjjMCOGAWtrRP+HtL5jcD52hGGPpSXj8eMu/0N9b4DlNDavhovZWO1lEKpew/C6JZgRxQCQ7ZcY9MCmw1wiIyIDlnvy5gkDzObeAN7/xRs+w/WCCWwmIylk4A3oZfi8oZgRm0vBgkePKv+3tr7LoHz0KMNda2tGEN/W5gGD0zFHsAH7rfYxKBw5DJdDVovVAHyhju7akWgA1kDEFo24ANZoRE9I+AzAmpCwmUyM/1EMgLmCUGaC0piZiVwAAPQyzRHjqLksAAAAAElFTkSuQmCC%29%20%21important%3B%0A%7D%0A%0A%23New-Tab-Window-Popup%20%3E%20%23prefsMenuitem%20%7B%0A%20%20list-style-image%3A%20url%28data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC5UlEQVR42mNct3btThZmZme/gAAOBgaGPwzYAVt5aelqL28fvx8/fzB8/fa1LSgwqBokwSgvK9t+7cb1irWrVr2IS0ySxKZ76tSpx7KysiyfPn3KkJOVvcnQQC+0vqn5F9gAECErKVFWXFLa6enuukJdRy8SWbOpmZnjrp0793FwcDDMmDGDQV5BHmz79OnTT+3bt28hI0yhlqS4VFRq6lNff7+p+sZmOTBxLy+vhKVLl87/9esXw/37DxgeP33O8BzokqysdJBcGiOybbrSYuxhSSk/fH39WgzMLGpBYkrKKta7d+08cvz4cQZnZ2eGv3//MnBzczPcvn37h5ubmzkjNj83VZf/L3ZyKeB2dp3YGZjxv2T1FIY1a9cy/PnzhwGoieHly5cMlZWVEzdv3lyA1QAQeNXZ9f/XsSMMZ06fZvC+c48hLDJ38+OnTx5oaopKnjhxYhfQBbPhgYgNXJOT/y8zoYdhR3Yuw7tff09UyFY//HChIAJdHVYDuOKv/A9dZcFQIinIoDBpKsP+lAxQAtkY9OJZAEED5LMv/GcVFmO4c+QpQ54r1w/viS4c5j2dDF/WrGPYcuwYgwQXM3PAg+f/sBogm3XhP7uIKMPdEy8ZNJ3lGF4vmnJswpuZ67iZGHo8jxxmeFNVw7B8314GHVluE49zD86iGCCedO6/gLwUw63Dzxg0nGQZ7m/bvfLHkSiwnxdKiNfyMzE3eR47zvCuuYVh5aYNDEY6/HJ2++88Bhsgl3HlC5eMKPeNPY8YtDwUGO5t23/gx6EwR2TXLZGQ+K/Ex8dgvGsXw7umFoY927YwxL54wcjI7nvuoLKVrN2NfY8YNBzlGO7sPn7m134/U2yBu1xS8r+moCCD5patQO9UMXx5+WQjI4uYa4KQ/6z5khq8DNfnT3z360qzMAMeUMDP/7HY1paPRVqaoWLpUjGwF9iY2NIY2ARkf/14VctABBBnYip+9///4d///58CAPQIIbK5c8FsAAAAAElFTkSuQmCC%29%20%21important%3B%0A%7D%0A%0A%23New-Tab-Window-Popup%20%3E%20menu%20%3E%20menupopup%20%3E%20%5Bid%24%3D%22Menuitem1%22%5D%20%7B%0A%20%20list-style-image%3A%20url%28data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAb0lEQVR42mNkSDvzn4ECwAg2wNgYp4LI08sZ0g7PYphlm8aw3DSSIVIZyNcE8q8D+avUCBuwv8+RweHmAYYD6g4MjkX7Gfb7APlSQP4zIL+xhw4uwAvOnoUY8GOqHln6ObIvjRowagAVDSBLNxQAAJ5sZyGrBewvAAAAAElFTkSuQmCC%29%20%21important%3B%0A%7D%0A%0A%23New-Tab-Window-Popup%20%3E%20menu%20%3E%20menupopup%20%3E%20%5Bid%24%3D%22Menuitem2%22%5D%20%7B%0A%20%20list-style-image%3A%20url%28data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABf0lEQVR42mNkSDvznwEKjsT8ZJB+u4qB9/EChs+yCQxPhcMYbJawM+ADjCAD7nofYRD/V8vwmdGF4cd/OQZRhnkMrxmSGDgYHzHw/t8DZldtNWdYbhqJqvvsWQbGK9s2/lf4GcPA6vqH4fduFob/isoM7MryDD/vPmRgvH8XLv6SqZlB+UU+pgEgF1wJeMog/auegdtZHugmJ4b3v50ZBFn3Mvz/+4Dh3f4HDG/ZEhha133F7gJwGBgbM9wXKwA7ndUpheE/VycD47dyht/75jC8U1jCIHfKD3sAgAzYvmPHf4MfMxkE5XczMKk4M/z/p8TAyKwAtp2R6R7Dvzt7Gd4/dAW7QsXVE0U/R/YlaCDqNjPIJO5ieDNbmeEHizKDtM1ehu8PVcCKOOXvMGx74Mzg5bMawwFwA7pV9jFIP+lk+M5kz8AkI88QqjwHHGjHvzEzMB1vYHgqU86QW1iA24AfU/XAAmeOn8ZIByaWpjjTAIYBpIJRA6hpAFm6oQAAuxi8IWz38LUAAAAASUVORK5CYII%3D%29%20%21important%3B%0A%7D%5D%5D%3E%3C/help%3E%0A%20%20%3CCSS%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS%3E%0A%20%20%3CxCSS%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS%3E%0A%20%20%3CCSS2%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS2%3E%0A%20%20%3CxCSS2%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS2%3E%0A%20%20%3CCSS3%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS3%3E%0A%20%20%3CxCSS3%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS3%3E%0A%20%20%3CCSS4%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS4%3E%0A%20%20%3CxCSS4%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS4%3E%0A%20%20%3CCSS5%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/CSS5%3E%0A%20%20%3CxCSS5%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xCSS5%3E%0A%20%20%3CHTML%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/HTML%3E%0A%20%20%3CxHTML%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/xHTML%3E%0A%20%20%3Cnotes%3E%3C%21%5BCDATA%5B/*%20Notes%20*/%5D%5D%3E%3C/notes%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E
